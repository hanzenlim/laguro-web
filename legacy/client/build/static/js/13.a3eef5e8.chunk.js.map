{"version":3,"sources":["../static/js/13.a3eef5e8.chunk.js","components/forms/EditOffice.js"],"names":["webpackJsonp","974","module","__webpack_exports__","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3_redux_form__","__WEBPACK_IMPORTED_MODULE_4_styled_components__","__WEBPACK_IMPORTED_MODULE_5_filestack_react__","__WEBPACK_IMPORTED_MODULE_5_filestack_react___default","__WEBPACK_IMPORTED_MODULE_6__actions__","__WEBPACK_IMPORTED_MODULE_7__config_keys__","__WEBPACK_IMPORTED_MODULE_8__util_uiUtil__","__WEBPACK_IMPORTED_MODULE_9__common__","__WEBPACK_IMPORTED_MODULE_10__common_Spacing__","__WEBPACK_IMPORTED_MODULE_11__sharedComponents__","__WEBPACK_IMPORTED_MODULE_12__formValidation__","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_templateObject","strings","raw","freeze","StyledContainer","div","EditOffice","_Component","_this","getPrototypeOf","state","office","imageUrls","componentWillMount","_ref","a","mark","_callee","wrap","_context","prev","next","document","title","office_id","computedMatch","params","getOffice","setState","initialize","name","equipment","description","stop","onSubmit","_x","_ref2","_callee2","values","_context2","editOffice","assign","id","result","upload","filesUploaded","allUrls","newImgs","map","file","url","index","splice","_this2","createElement","className","onClick","deleteImg","bind","type","src","alt","_this3","_props","handleSubmit","submitting","initialized","container","item","xs","sm","fontSize","bottom","label","tooltip","component","validate","multiline","rows","charCount","inputProps","maxLength","selected","renderUploadedImages","apikey","buttonText","buttonClass","options","accept","imageMin","maxFiles","fromSources","transformations","crop","aspectRatio","force","uploadInBackground","storeTo","onSuccess","extractUrlToState","pb","justify","color","disabled","fontWeight","mapStateToProps","selector","auth","offices","form"],"mappings":"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","file":"static/js/13.a3eef5e8.chunk.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 974:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_redux_form__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_styled_components__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_filestack_react__ = __webpack_require__(324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_filestack_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_filestack_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__actions__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__config_keys__ = __webpack_require__(323);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__config_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__config_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__util_uiUtil__ = __webpack_require__(322);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__common_Spacing__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__sharedComponents__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__formValidation__ = __webpack_require__(51);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _templateObject=_taggedTemplateLiteral(['\\n    min-height: 100vh;\\n    height: 100%;\\n    max-width: 1080px;\\n    padding: 5em 10px;\\n    margin: 0 auto;\\n'],['\\n    min-height: 100vh;\\n    height: 100%;\\n    max-width: 1080px;\\n    padding: 5em 10px;\\n    margin: 0 auto;\\n']);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var StyledContainer=__WEBPACK_IMPORTED_MODULE_4_styled_components__[\"b\" /* default */].div(_templateObject);var EditOffice=function(_Component){_inherits(EditOffice,_Component);function EditOffice(props){_classCallCheck(this,EditOffice);var _this=_possibleConstructorReturn(this,(EditOffice.__proto__||Object.getPrototypeOf(EditOffice)).call(this,props));_this.state={office:{},imageUrls:[]};return _this;}_createClass(EditOffice,[{key:'componentWillMount',value:function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var office;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:document.title='Laguro - Edit Office';// id from URL\nthis.office_id=this.props.computedMatch.params.office_id;_context.next=4;return this.props.getOffice(this.office_id);case 4:office=this.props.office;this.setState({office:office,imageUrls:office.imageUrls});this.props.initialize({name:office.name,equipment:office.equipment,description:office.description});case 7:case'end':return _context.stop();}}},_callee,this);}));function componentWillMount(){return _ref.apply(this,arguments);}return componentWillMount;}()},{key:'onSubmit',value:function(){var _ref2=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(values){var imageUrls;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:imageUrls=this.state.imageUrls;_context2.next=3;return this.props.editOffice(Object.assign({},values,{imageUrls:imageUrls,id:this.office_id}));case 3:case'end':return _context2.stop();}}},_callee2,this);}));function onSubmit(_x){return _ref2.apply(this,arguments);}return onSubmit;}()},{key:'extractUrlToState',value:function extractUrlToState(result){var upload=result.filesUploaded;var allUrls=this.state.imageUrls;if(upload.length){var newImgs=upload.map(function(file){return file.url;});allUrls=[].concat(_toConsumableArray(allUrls),_toConsumableArray(newImgs));}this.setState({imageUrls:allUrls});}},{key:'deleteImg',value:function deleteImg(index){var allUrls=this.state.imageUrls;allUrls.splice(index,1);this.setState({imageUrls:allUrls});}},{key:'renderUploadedImages',value:function renderUploadedImages(){var _this2=this;var imageUrls=this.state.imageUrls;return imageUrls.map(function(url,index){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'edit_img_container',key:'img'+index},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('button',{onClick:_this2.deleteImg.bind(_this2,index),type:'button',className:'delete_img red lighten-2 btn'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'material-icons'},'delete_forever')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('img',{src:url,alt:'office'}));});}},{key:'render',value:function render(){var _this3=this;var _props=this.props,handleSubmit=_props.handleSubmit,submitting=_props.submitting,error=_props.error;if(!this.props.initialized){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',null,'Loading...');}return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledContainer,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{container:true},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{item:true,xs:12,sm:6},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('form',{onSubmit:handleSubmit(this.onSubmit.bind(this))},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{container:true},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{item:true,xs:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"q\" /* Typography */],{fontSize:5},'Edit Dentist Office'))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__common_Spacing__[\"b\" /* Padding */],{bottom:'24'}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_redux_form__[\"a\" /* Field */],{name:'name',label:'Office Name',tooltip:'What do you want your office to be called?',className:'col s12',component:__WEBPACK_IMPORTED_MODULE_11__sharedComponents__[\"g\" /* renderField */],validate:__WEBPACK_IMPORTED_MODULE_12__formValidation__[\"g\" /* required */]}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10__common_Spacing__[\"b\" /* Padding */],{bottom:'16'}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_redux_form__[\"a\" /* Field */],{name:'description',label:'Description (optional)',component:__WEBPACK_IMPORTED_MODULE_11__sharedComponents__[\"g\" /* renderField */],multiline:true,rows:2,charCount:true,inputProps:{maxLength:500}}),Object(__WEBPACK_IMPORTED_MODULE_11__sharedComponents__[\"b\" /* charCount */])(this.props.description?this.props.description.length:0,500),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'row'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_redux_form__[\"b\" /* FieldArray */],{className:'col s12',name:'equipment',selected:this.props.equipment,component:__WEBPACK_IMPORTED_MODULE_11__sharedComponents__[\"f\" /* renderEquipmentSelector */]})),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'image_upload'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('label',null,'Featured Office Image',Object(__WEBPACK_IMPORTED_MODULE_11__sharedComponents__[\"a\" /* addTooltip */])('Upload images of your office. The first image will show up on search results.')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'image_display'},this.renderUploadedImages()),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_filestack_react___default.a,{apikey:__WEBPACK_IMPORTED_MODULE_7__config_keys__[\"filestackKey\"],buttonText:'Upload New Image',buttonClass:'btn light-blue lighten-2',options:{accept:['image/*'],imageMin:[300,300],maxFiles:5,fromSources:['local_file_system','url','imagesearch','facebook','instagram'],transformations:{crop:{aspectRatio:__WEBPACK_IMPORTED_MODULE_8__util_uiUtil__[\"b\" /* officeImageRatio */],force:true}},uploadInBackground:false,storeTo:{container:'office-photos'}},onSuccess:function onSuccess(result){return _this3.extractUrlToState(result);}})),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"a\" /* Box */],{pb:4}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{container:true,justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"i\" /* Grid */],{item:true},error&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('strong',{className:'red-text'},error),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"b\" /* Button */],{color:'secondary',type:'submit',disabled:submitting},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'medium'},'Submit'))))))));}}]);return EditOffice;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]);var mapStateToProps=function mapStateToProps(state){var selector=Object(__WEBPACK_IMPORTED_MODULE_3_redux_form__[\"e\" /* formValueSelector */])('editOffice');return{auth:state.auth,office:state.offices.selected,equipment:selector(state,'equipment'),description:selector(state,'description')};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_redux_form__[\"g\" /* reduxForm */])({form:'editOffice'})(Object(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps,__WEBPACK_IMPORTED_MODULE_6__actions__)(EditOffice)));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.a3eef5e8.chunk.js","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm, formValueSelector, FieldArray } from 'redux-form';\nimport styled from 'styled-components';\nimport ReactFilestack from 'filestack-react';\nimport * as actions from '../../actions';\nimport { filestackKey } from '../../config/keys';\nimport { officeImageRatio } from '../../util/uiUtil';\nimport { Typography, Grid, Button, Box } from '../common';\nimport { Padding } from '../common/Spacing';\nimport {\n    renderField,\n    charCount,\n    renderEquipmentSelector,\n    addTooltip\n} from './sharedComponents';\nimport { required } from './formValidation';\n\nconst StyledContainer = styled.div`\n    min-height: 100vh;\n    height: 100%;\n    max-width: 1080px;\n    padding: 5em 10px;\n    margin: 0 auto;\n`;\n\nclass EditOffice extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            office: {},\n            imageUrls: []\n        };\n    }\n\n    async componentWillMount() {\n        document.title = 'Laguro - Edit Office';\n\n        // id from URL\n        this.office_id = this.props.computedMatch.params.office_id;\n        await this.props.getOffice(this.office_id);\n        const { office } = this.props;\n        this.setState({\n            office: office,\n            imageUrls: office.imageUrls\n        });\n\n        this.props.initialize({\n            name: office.name,\n            equipment: office.equipment,\n            description: office.description\n        });\n    }\n\n    async onSubmit(values) {\n        const { imageUrls } = this.state;\n        await this.props.editOffice({\n            ...values,\n            imageUrls,\n            id: this.office_id\n        });\n    }\n\n    extractUrlToState(result) {\n        let upload = result.filesUploaded;\n        let allUrls = this.state.imageUrls;\n        if (upload.length) {\n            let newImgs = upload.map(file => {\n                return file.url;\n            });\n\n            allUrls = [...allUrls, ...newImgs];\n        }\n        this.setState({ imageUrls: allUrls });\n    }\n\n    deleteImg(index) {\n        let allUrls = this.state.imageUrls;\n        allUrls.splice(index, 1);\n\n        this.setState({ imageUrls: allUrls });\n    }\n\n    renderUploadedImages() {\n        const { imageUrls } = this.state;\n        return imageUrls.map((url, index) => {\n            return (\n                <div className=\"edit_img_container\" key={'img' + index}>\n                    <button\n                        onClick={this.deleteImg.bind(this, index)}\n                        type=\"button\"\n                        className=\"delete_img red lighten-2 btn\"\n                    >\n                        <i className=\"material-icons\">delete_forever</i>\n                    </button>\n                    <img src={url} alt=\"office\" />\n                </div>\n            );\n        });\n    }\n\n    render() {\n        const { handleSubmit, submitting, error } = this.props;\n\n        if (!this.props.initialized) {\n            return <div>Loading...</div>;\n        }\n\n        return (\n            <StyledContainer>\n                <Grid container>\n                    <Grid item xs={12} sm={6}>\n                        <form onSubmit={handleSubmit(this.onSubmit.bind(this))}>\n                            <Grid container>\n                                <Grid item xs={12}>\n                                    <Typography fontSize={5}>\n                                        Edit Dentist Office\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n\n                            <Padding bottom=\"24\" />\n\n                            <Field\n                                name=\"name\"\n                                label=\"Office Name\"\n                                tooltip=\"What do you want your office to be called?\"\n                                className=\"col s12\"\n                                component={renderField}\n                                validate={required}\n                            />\n\n                            <Padding bottom=\"16\" />\n\n                            <Field\n                                name=\"description\"\n                                label=\"Description (optional)\"\n                                component={renderField}\n                                multiline={true}\n                                rows={2}\n                                charCount={true}\n                                inputProps={{\n                                    maxLength: 500\n                                }}\n                            />\n\n                            {charCount(\n                                this.props.description\n                                    ? this.props.description.length\n                                    : 0,\n                                500\n                            )}\n\n                            <div className=\"row\">\n                                <FieldArray\n                                    className=\"col s12\"\n                                    name=\"equipment\"\n                                    selected={this.props.equipment}\n                                    component={renderEquipmentSelector}\n                                />\n                            </div>\n\n                            <div className=\"image_upload\">\n                                <label>\n                                    {'Featured Office Image'}\n                                    {addTooltip(\n                                        'Upload images of your office. The first image will show up on search results.'\n                                    )}\n                                </label>\n                                <div className=\"image_display\">\n                                    {this.renderUploadedImages()}\n                                </div>\n                                <ReactFilestack\n                                    apikey={filestackKey}\n                                    buttonText=\"Upload New Image\"\n                                    buttonClass=\"btn light-blue lighten-2\"\n                                    options={{\n                                        accept: ['image/*'],\n                                        imageMin: [300, 300],\n                                        maxFiles: 5,\n                                        fromSources: [\n                                            'local_file_system',\n                                            'url',\n                                            'imagesearch',\n                                            'facebook',\n                                            'instagram'\n                                        ],\n                                        transformations: {\n                                            crop: {\n                                                aspectRatio: officeImageRatio,\n                                                force: true\n                                            }\n                                        },\n                                        uploadInBackground: false,\n                                        storeTo: { container: 'office-photos' }\n                                    }}\n                                    onSuccess={result =>\n                                        this.extractUrlToState(result)\n                                    }\n                                />\n                            </div>\n\n                            <Box pb={4} />\n\n                            <Grid container justify=\"space-between\">\n                                <Grid item>\n                                    {error && (\n                                        <strong className=\"red-text\">\n                                            {error}\n                                        </strong>\n                                    )}\n                                    <Button\n                                        color=\"secondary\"\n                                        type=\"submit\"\n                                        disabled={submitting}\n                                    >\n                                        <Typography\n                                            fontSize={4}\n                                            fontWeight=\"medium\"\n                                        >\n                                            Submit\n                                        </Typography>\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </Grid>\n                </Grid>\n            </StyledContainer>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    const selector = formValueSelector('editOffice');\n    return {\n        auth: state.auth,\n        office: state.offices.selected,\n        equipment: selector(state, 'equipment'),\n        description: selector(state, 'description')\n    };\n};\n\nexport default reduxForm({\n    form: 'editOffice'\n})(connect(mapStateToProps, actions)(EditOffice));\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/forms/EditOffice.js"],"sourceRoot":""}