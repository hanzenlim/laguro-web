webpackJsonp([3],{1039:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAogAAAGwCAIAAACl6gOwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDYtMDFUMTY6MjA6NDAtMDc6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTI1VDEwOjAzOjU0LTA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTI1VDEwOjAzOjU0LTA3OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUzNWVlZDk5LWFmNGEtNDI2Yy05MmI1LWQ2ZjNiMTYzZDYyMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1MzVlZWQ5OS1hZjRhLTQyNmMtOTJiNS1kNmYzYjE2M2Q2MjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1MzVlZWQ5OS1hZjRhLTQyNmMtOTJiNS1kNmYzYjE2M2Q2MjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzNWVlZDk5LWFmNGEtNDI2Yy05MmI1LWQ2ZjNiMTYzZDYyMSIgc3RFdnQ6d2hlbj0iMjAxOC0wNi0wMVQxNjoyMDo0MC0wNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Z95X4QAACYtJREFUeJzt3TtrFesewOF4i5dIsFLwgiiolYiVChZWlqKghVr6DWz8DH4Ga2t7W0ViIRZaRBK8oY2CBMnCyxI8xSk258hW404yP93PU4W15n3n3/0yYTKzZnZ2dgIAaFg79AAAwF+EGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBC1g89APC3rl+//vHjxzNnzhw9enToWYBVIszQNRqNPn36NB6Phx4EWD3+lA0AIcIMACHCDAAhwgwAIcIMACHCDAAhwgwAIcIMACHCDAAhwgwAIcIMACHCDAAhwgwAIcIMACHCDAAhwgwAIcIMACHCDAAh64ceAP6l7t69++zZs+8fMx6PJyYmZmZmnjx58v0jL1y4sGnTpmUbDhiOMMMwXr169fjx45858vXr169fv/7+MefOnVuOoYDhCTMMaXp6ev/+/b+8fHFxcX5+fhnnAQYnzDCk3bt3X7x48ZeXP336VJjhD+PmLwAIEWYACBFmAAgRZgAIEWYACBFmAAgRZgAIEWYACBFmAAhZMzs7O/QM8Cd7+fLlzZs3v/18NBqNx+MNGzZMTU398uZfvnxZXFycmJiYnp5eu/b/f88+cODA+fPnf3lzYBAeyQkr68uXLwsLC3/37Xg8/s63P+/9+/fffjgajf75zsAqE2ZYJadPn56cnFydcz18+PCHL6QCmoQZVsmxY8e2bt26Ouf6mTdFAk1u/gKAEGEGgBBhBoAQYQaAEGEGgBBhBoAQYQaAEGEGgBBhBoAQYQaAEGEGgBBhBoAQYQaAEGEGgBCvfYQ/1mg0mp+fX8YNt2zZsnPnzmXcEPiWMMMf68WLFzdu3FjGDQ8ePHjlypVl3BD4ljDD8J48efL8+fOlrjp16tTGjRtXYBxgSMIMw5ubm7tz585SVx0/fvz7YT506NDly5f/wVx/uXXr1sOHD5dlK+D7hBmGt23btl27di111bp16354wHJdUv/wXMByEWYY3smTJ0+ePDn0FECCf5cCgBBhBoAQYQaAEGEGgBBhBoAQYQaAEGEGgBBhBoAQYQaAEE/+guHdv3//0aNHS1116dKlLVu2rMQ8wICEGYb39u3bubm5pa4aj8crMQwwLGGG4e3du/fz589LXTU5ObkSwwDDEmYY3uHDhw8fPjz0FECCm78AIESYASBEmAEgRJgBIESYASBEmAEgRJgBIESYASBEmAEgxJO/YHi3b9++d+/eUlddvXp1enp6JeYBBiTMMLzPnz9/+PBhqau+fv26EsMAwxJmGN6RI0e2b9++1FWbN29eiWGAYQkzDG/Pnj179uwZegogwc1fABAizAAQIswAECLMABAizAAQIswAECLMABAizAAQIswAECLMABAizAAQIswAECLMABAizAAQIswAECLMABAizAAQsn7oAeA3NjMz88Nj3r59+98fHjx4sHHjxhWe6H9O+u7du5+Z8Ge8efNmYmJiYWHhZzbcsWPHvn37luW88C+0ZnZ2dugZ4Hd17dq1oUcoOnHixNmzZ4eeAn5Xrpjh101NTQ09QtHk5OTQI8BvzBUzAIS4+QsAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQoQZAEKEGQBChBkAQv4DaZzPknqP91AAAAAASUVORK5CYII="},1134:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=n(1),c=n.n(l),s=n(15),u=n(988),m=n.n(u),p=n(50),h=n(186),d=n(20),f=n(44),A=n(322),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=o(["\n    border-radius: 50%;\n    display: block;\n    margin: auto;\n    width: 150px;\n    height: 150px;\n"],["\n    border-radius: 50%;\n    display: block;\n    margin: auto;\n    width: 150px;\n    height: 150px;\n"]),v=o(["\n    margin-right: 3px;\n"],["\n    margin-right: 3px;\n"]),g=o(["\n    height: 45px;\n    cursor: pointer;\n    display: inline-block;\n    margin-left: auto;\n    margin-right: auto;\n    @media screen and (min-width: 600px) {\n        position: absolute;\n        display: block;\n        margin-left: 3%;\n    }\n"],["\n    height: 45px;\n    cursor: pointer;\n    display: inline-block;\n    margin-left: auto;\n    margin-right: auto;\n    @media screen and (min-width: 600px) {\n        position: absolute;\n        display: block;\n        margin-left: 3%;\n    }\n"]),Q=o(["\n    float: left;\n    line-height: 45px;\n"],["\n    float: left;\n    line-height: 45px;\n"]),y=o(["\n    float: left;\n"],["\n    float: left;\n"]),B=s.b.img(b),w=0;w=Object(A.a)()?0:12;var k=Object(s.b)(h.a)(v),C=Object(s.b)(d.k)(g),x=Object(s.b)(d.a)(Q),O=Object(s.b)(h.a)(y),j=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.urlParams=m.a.parse(f.a.location.search),n}return a(t,e),E(t,[{key:"render",value:function(){var e=this.props.obj,t=void 0,n=void 0,r=this.urlParams,i=r.referrer,a=r.dentistId;return"search"===i?"office"===this.props.type?(t="/office/search",n="Back to office search"):(t="/dentist/search",n="Back to dentist search"):"profile"===i?(t="/profile",n="Back to profile"):"dentist"===i&&"undefined"!==a&&(t="/dentist/"+a,n="Back to dentist page"),c.a.createElement("div",{className:"center"},c.a.createElement(p.b,{bottom:w}),void 0!==t&&c.a.createElement(d.a,{mt:[3,0],mb:[2,0]},c.a.createElement(C,{to:t},c.a.createElement(O,{icon:"BackToSearch",width:"45px"}),c.a.createElement(x,{pl:10,color:"#000"},n))),"dentist"===this.props.type&&c.a.createElement(B,{src:e&&e.user&&e.user.imageUrl?e.user.imageUrl:"https://lh5.googleusercontent.com/-pJtmF-TTUxk/AAAAAAAAAAI/AAAAAAAAAAA/6ULkoHqUkSo/photo.jpg?sz=300",alt:"Profile Picture"}),"dentist"===this.props.type&&c.a.createElement(d.a,{mb:12}),"office"===this.props.type?c.a.createElement(d.a,{fontSize:36},e&&e.name?e.name:"_____"):c.a.createElement(d.a,{fontSize:36},e&&e.user?e.user.firstName+" "+e.user.lastName:"_____"),"office"===this.props.type&&c.a.createElement("div",null,c.a.createElement(d.a,{mb:12}),c.a.createElement(d.a,{fontSize:17},c.a.createElement(k,{icon:"map-pin",width:"15px"}),e&&e.location?e.location:"_____"),c.a.createElement(p.b,{bottom:18})))}}]),t}(l.Component);t.a=j},1135:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),l=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=n(14),s=n.n(c),u=n(1),m=n.n(u),p=n(26),h=n.n(p),d=n(19),f=n(15),A=n(123),E=n.n(A),b=n(185),v=(n.n(b),n(184)),g=n(188),Q=n(23),y=n(50),B=n(24),w=n(1136),k=n(327),C=n(186),x=n(1139),O=n(20),j=n(1039),G=n.n(j),T=n(1140),Z=n(322),S=n(325),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=l(["\n    height: 100%;\n"],["\n    height: 100%;\n"]),I=l(["\n    width: 80px;\n    height: auto;\n"],["\n    width: 80px;\n    height: auto;\n"]),K=l(["\n    && {\n        font-size: 14px;\n    }\n"],["\n    && {\n        font-size: 14px;\n    }\n"]),z=l(["\n    width: 295px;\n"],["\n    width: 295px;\n"]),R=l(["\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    width: 92%;\n    margin-top: 7%;\n    @media screen and (min-width: 600px) {\n        margin-top: 0;\n        margin-left: auto;\n        margin-right: auto;\n        width: 49vw;\n    }\n"],["\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    width: 92%;\n    margin-top: 7%;\n    @media screen and (min-width: 600px) {\n        margin-top: 0;\n        margin-left: auto;\n        margin-right: auto;\n        width: 49vw;\n    }\n"]),P=l(["\n    display: inline-block;\n"],["\n    display: inline-block;\n"]),F=l(["\n    white-space: pre-line;\n    ",";\n"],["\n    white-space: pre-line;\n    ",";\n"]),_=l(["\n    opacity: 0.4;\n    text-decoration: underline;\n    clear: both;\n    cursor: pointer;\n"],["\n    opacity: 0.4;\n    text-decoration: underline;\n    clear: both;\n    cursor: pointer;\n"]),D=l(["\n    line-height: 30px;\n"],["\n    line-height: 30px;\n"]),Y=l(["\n    line-height: 30px;\n    && {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n"],["\n    line-height: 30px;\n    && {\n        text-decoration: underline;\n        cursor: pointer;\n    }\n"]),L=l(["\n    position: relative;\n"],["\n    position: relative;\n"]),W=l(["\n    margin-right: 6px;\n"],["\n    margin-right: 6px;\n"]),U=l(["\n    line-height: 35px;\n    float: right;\n"],["\n    line-height: 35px;\n    float: right;\n"]),H=l(["\n    && {\n        width: 75%;\n        font-size: 13px;\n        padding: 0;\n        min-height: 18px;\n        height: 22px;\n        background-color: #67b620;\n        min-width: 40px;\n    }\n"],["\n    && {\n        width: 75%;\n        font-size: 13px;\n        padding: 0;\n        min-height: 18px;\n        height: 22px;\n        background-color: #67b620;\n        min-width: 40px;\n    }\n"]),J=l(["\n    && {\n        background-color: #f26b27;\n    }\n"],["\n    && {\n        background-color: #f26b27;\n    }\n"]),X=Object(f.b)(O.h)(N),q=f.b.img(I),V=f.b.div(K),$=Object(f.b)(O.a)(z),ee=f.b.div(R),te=Object(f.b)(O.a)(P),ne=Object(f.b)(O.a)(F,function(e){return"overflow: "+e.overflow+";"}),re=Object(f.b)(O.a)(_),ie=Object(f.b)(O.a)(D),ae=Object(f.b)(O.q)(Y),oe=f.b.div(L),le=Object(f.b)(C.a)(W),ce=Object(f.b)(E.a)(U),se=Object(f.b)(O.b)(H),ue=se.extend(J),me=Object(Z.a)()?2:3,pe=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openModal=function(e){n.setState({visibleModal:e})},n.openReservationModal=function(){n.openModal("reservationOptions")},n.closeModal=function(){n.setState({visibleModal:null})},n.state={reviewRowNum:1,visibleModal:null,avg_rating:0,rating_count:0,descShowMore:!0},n.handleShowMoreReview=n.handleShowMoreReview.bind(n),n.handleShowMoreDescription=n.handleShowMoreDescription.bind(n),n}return o(t,e),M(t,[{key:"componentDidUpdate",value:function(){this.reviewCalc()}},{key:"reviewCalc",value:function(){var e=this.props.reviews;if(e.length!==this.state.rating_count){var t=0,n=0;e&&e.length&&(t=e.map(function(e){return e.rating}).reduce(function(e,t){return e+t},0)/e.length,n=e.length),this.setState({avg_rating:t,rating_count:n})}}},{key:"isListingAvailable",value:function(e){return!!e.reservations&&!!Object(v.a)(e,e.reservations).filter(function(e){return e>=60}).length}},{key:"renderAvailListings",value:function(e){var t=this;return Array.isArray(e)&&0!==e.length?e.filter(function(e){return h()(e.endTime).isAfter(h()())}).map(function(e,n){return[m.a.createElement(O.i,{key:3*n,item:!0,xs:8,sm:5},t.isListingAvailable(e)?m.a.createElement(ae,{onClick:t.handleBookReservation.bind(t,e),size:"t2",color:"darkGrey"},Object(v.b)(e.startTime,e.endTime)):m.a.createElement(ae,{size:"t2",color:"darkGrey"},Object(v.b)(e.startTime,e.endTime))),m.a.createElement(O.i,{key:3*n+1,item:!0,xs:4,sm:2},m.a.createElement(O.a,{mt:1,ml:[0,-20]},t.isListingAvailable(e)?m.a.createElement(se,{onClick:t.handleBookReservation.bind(t,e)},"Available"):m.a.createElement(ue,null," Reserved "))),m.a.createElement(O.i,{key:3*n+2,item:!0,xs:!1,sm:5})]}):m.a.createElement("div",null," All listings currently sold out. ")}},{key:"handleShowMoreReview",value:function(){var e=this.props.reviews,t=this.state.reviewRowNum;e&&e.length>t*me&&this.setState({reviewRowNum:Math.min(t+4,Math.ceil(e.length/me))}),this.reviewCalc()}},{key:"handleShowMoreDescription",value:function(){this.setState({descShowMore:!1})}},{key:"renderProcedures",value:function(e){var t=e&&e.procedures;return t&&Array.isArray(t)&&0!==t.length?t.map(function(e){return m.a.createElement("div",{key:e.name},e.name," - ",e.duration," min")}):m.a.createElement("div",null," No procedures Available ")}},{key:"renderAppointments",value:function(){var e=this,t=this.props,n=t.auth,r=t.obj,i=t.reservations;return!i||i&&0===i.length?m.a.createElement(O.a,{width:1},"Sorry, no available appointments for now."):i.map(function(t,i){var a=t.office,o=Array.isArray(a.imageUrls)&&0!==a.imageUrls.length?a.imageUrls[0]:G.a;return m.a.createElement($,{key:i,p:2,className:"reservation card-panel grey lighten-5"},m.a.createElement(O.h,{justifyContent:"space-evenly"},m.a.createElement(O.k,{className:"blue-text text-darken-2",to:"/office/"+a.id+"?referrer=dentist&dentistId="+t.reservedBy.id},m.a.createElement(X,{flexDirection:"column",justifyContent:"center"},m.a.createElement(O.a,{fontSize:3},a.name),m.a.createElement(q,{src:o,alt:""}))),m.a.createElement(V,{className:"content"},m.a.createElement("div",{className:"top-bar"},m.a.createElement(O.a,null,h()(t.startTime).format("MMM D, h:mm a - "),h()(t.endTime).format("h:mm a"))),m.a.createElement(O.a,{pb:2}),m.a.createElement("div",{className:"center"},t&&m.a.createElement(T.a,{reservation:t,auth:n,dentist:r,handleBookAppointment:e.props.handleBookAppointment})))))})}},{key:"handleBookReservation",value:function(){function e(e){return t.apply(this,arguments)}var t=r(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.auth,this.setState({listing:t}),n||this.props.toggleLoginModal(),Object(g.a)(n)?this.openModal("reservationOptions"):this.openModal("newDentist");case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"renderEquipment",value:function(e){var t=e.equipment;return t&&Array.isArray(t)&&0!==t.length?t.map(function(e){return m.a.createElement("div",{key:e.name},e.name," - $",(e.price/100).toFixed(2))}):m.a.createElement("div",null," No Equipment Available ")}},{key:"render",value:function(){var e=this.props,t=e.auth,n=e.obj,r=e.reviews,i=e.listings,a=e.ownPage,o=e.isUserVerified,l=void 0,c=void 0;return"office"===this.props.type?(l="Equipment Available",c="Current Listings"):(l="Procedures",c="Appointments"),m.a.createElement(ee,null,"office"===this.props.type&&n.description&&m.a.createElement(O.a,null,m.a.createElement(te,{fontSize:25},"Description"),m.a.createElement("hr",null),m.a.createElement(ne,{overflow:this.state.descShowMore?"hidden":"auto",maxHeight:this.state.descShowMore?68:300},n.description),m.a.createElement(O.a,{mb:10}),this.state.descShowMore&&m.a.createElement(O.a,{mt:10},m.a.createElement(re,{fontSize:1,className:"center",onClick:this.handleShowMoreDescription},m.a.createElement(le,{icon:"downArrow",width:"20px"}),"Show more"))),m.a.createElement(O.a,{mb:40}),m.a.createElement(te,{fontSize:25},l),m.a.createElement("hr",null),m.a.createElement(y.b,{bottom:10}),m.a.createElement(ie,{fontSize:4,color:"#484E51"},m.a.createElement(y.b,{bottom:"1"}),"office"===this.props.type?this.renderEquipment(n):this.renderProcedures(n)),m.a.createElement(y.b,{bottom:40}),m.a.createElement(te,{fontSize:25},c),m.a.createElement("hr",null),m.a.createElement(y.b,{bottom:10}),"office"===this.props.type?m.a.createElement(O.i,{container:!0,spacing:8},this.renderAvailListings(i)):m.a.createElement(O.h,{justifyContent:"space-evenly",flexWrap:"wrap"},this.renderAppointments()),m.a.createElement(y.b,{bottom:40}),m.a.createElement(te,{fontSize:25},"Reviews (",this.state.rating_count,")"),m.a.createElement(ce,{count:5,edit:!1,size:20,value:this.state.avg_rating}),m.a.createElement("hr",null),m.a.createElement(y.b,{bottom:10}),m.a.createElement(oe,null,!Object(b.isEmpty)(n)&&m.a.createElement(w.a,{reviewee:n,type:"office"===this.props.type?B.t:B.n,reviewerId:t&&t.id,alreadyReviewed:t&&r.some(function(e){return e.reviewer.id===t.id}),ownPage:a,isUserVerified:o}),m.a.createElement(y.b,{bottom:12}),n&&m.a.createElement(k.a,{revieweeId:n.id,revieweeName:"office"===this.props.type?n.name:n&&n.user?n.user.name:"",reviews:r,rows:this.state.reviewRowNum})),r.length>0&&r.length>this.state.reviewRowNum*me&&t&&m.a.createElement(O.a,{mt:20},m.a.createElement(re,{fontSize:1,className:"center",onClick:this.handleShowMoreReview},m.a.createElement(le,{icon:"downArrow",width:"20px"}),"Show more")),m.a.createElement(O.l,{closable:!0,open:"reservationOptions"===this.state.visibleModal,closeModal:this.closeModal},m.a.createElement(x.a,{listing:this.state.listing,office:n,auth:t})),m.a.createElement(S.a,{id:"newDentistForm",open:"newDentist"===this.state.visibleModal,closeModal:this.closeModal,onSuccess:this.openReservationModal,auth:t,message:"Before you can book a reservation, we need you to create a dentist profile."}))}}]),t}(u.Component);t.a=Object(d.b)(null,Q)(pe)},1136:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){var t=Object(m.e)("newReview");return{auth:e.auth,text:t(e,"text")}}var c=n(1),s=n.n(c),u=n(19),m=n(41),p=n(123),h=n.n(p),d=n(15),f=n(192),A=(n.n(f),n(86)),E=n.n(A),b=n(51),v=n(23),g=n(20),Q=n(50),y=n(1137),B=(n.n(y),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w=o(["\n    width: 100%;\n    color: white;\n    height: 3.9rem;\n\n    && {\n        text-transform: none;\n        min-width: 0;\n    }\n"],["\n    width: 100%;\n    color: white;\n    height: 3.9rem;\n\n    && {\n        text-transform: none;\n        min-width: 0;\n    }\n"]),k=o(["\n    float: left;\n    display: block;\n    box-sizing: border-box;\n    border: 1px solid #cccccc;\n    ","\n    ","\n    ","\n    ","\n    ","\n    border-radius: 5px;\n    padding-left: 10px;\n    padding-right: 120px;\n\n    @media screen and (min-width: 600px) {\n        ","\n        ","\n        ","\n        ","\n        ","\n    }\n"],["\n    float: left;\n    display: block;\n    box-sizing: border-box;\n    border: 1px solid #cccccc;\n    ","\n    ","\n    ","\n    ","\n    ","\n    border-radius: 5px;\n    padding-left: 10px;\n    padding-right: 120px;\n\n    @media screen and (min-width: 600px) {\n        ","\n        ","\n        ","\n        ","\n        ","\n    }\n"]),C=o(["\n    position: absolute;\n    right: 21%;\n    line-height: 58.5px;\n"],["\n    position: absolute;\n    right: 21%;\n    line-height: 58.5px;\n"]),x=o(["\n    float: left;\n"],["\n    float: left;\n"]),O=Object(d.b)(E.a)(w),j=Object(f.createMuiTheme)({palette:{primary:{light:"#3E4446",main:"#3E4446",dark:"#3E4446",contrastText:"#FFFFFF"},secondary:{light:"#F15F14",main:"#F15F14",dark:"#F15F14",contrastText:"#FFFFFF"}}}),G=d.b.textarea(k,function(e){return e.larger&&"height: 100px;"},function(e){return e.larger&&"line-height: 18px;"},function(e){return e.larger&&"padding-top: 10px;"},function(e){return!e.larger&&"height: 58px;"},function(e){return!e.larger&&"line-height: 45px;"},function(e){return e.larger&&"height: 150px;"},function(e){return e.larger&&"line-height: 18px;"},function(e){return e.larger&&"padding-top: 19px;"},function(e){return!e.larger&&"height: 58px;"},function(e){return!e.larger&&"line-height: 54px;"}),T=d.b.div(C),Z=Object(d.b)(Q.b)(x),S=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderTextArea=function(e){var t=e.input,r=e.className,i=e.placeholder,a=e.meta,o=a.touched,l=a.error,c=void 0!==n.props.text;return s.a.createElement("div",{"data-name":"review-input",className:r},s.a.createElement(G,Object.assign({},t,{larger:c,placeholder:i})),o&&l?s.a.createElement(Z,{top:10},s.a.createElement("span",{className:"red-text"},l)):s.a.createElement(Z,null))},n.ratingChanged=function(e){n.setState({rating:e})},n.state={rating:3},n}return a(t,e),B(t,[{key:"onSubmit",value:function(e){var t=this.props,n=t.reset,r=t.reviewee,i=t.reviewerId,a=t.type,o=this.state.rating;this.props.createReview(Object.assign({},e,{rating:o,type:a,revieweeId:r.id,reviewerId:i})),n()}},{key:"render",value:function(){var e=this.props.handleSubmit;return s.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this))},s.a.createElement(g.i,{container:!0,spacing:8},s.a.createElement(g.i,{item:!0,xs:10},s.a.createElement("div",null,s.a.createElement(m.a,{name:"text",placeholder:"Write a review",component:this.renderTextArea,validate:b.h})),s.a.createElement(T,null,s.a.createElement(h.a,{count:5,size:20,onChange:this.ratingChanged,half:!1,value:this.state.rating}))),s.a.createElement(g.i,{item:!0,xs:2},s.a.createElement(f.MuiThemeProvider,{theme:j},s.a.createElement(O,{variant:"raised",color:"primary",type:"submit"},"Submit")))))}}]),t}(c.Component);t.a=Object(m.g)({form:"newReview",reviewConditions:b.h})(Object(u.b)(l,{createReview:v.createReview})(S))},1137:function(e,t,n){var r=n(1138);"string"===typeof r&&(r=[[e.i,r,""]]);var i={hmr:!1};i.transform=void 0;n(971)(r,i);r.locals&&(e.exports=r.locals)},1138:function(e,t,n){t=e.exports=n(970)(!0),t.push([e.i,".review input:not([type]){float:left;display:block;width:73%;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #ccc;margin-right:1%;height:3.9rem;padding-left:10px}","",{version:3,sources:["/Users/hanzenlim/work/laguro/client/src/components/css/forms/NewReview.css"],names:[],mappings:"AAAA,0BACI,WAAY,AACZ,cAAe,AACf,UAAW,AACX,8BAA+B,AACvB,sBAAuB,AAC/B,sBAA0B,AAC1B,gBAAiB,AACjB,cAAe,AACf,iBAAmB,CACtB",file:"NewReview.css",sourcesContent:[".review input:not([type]) {\n    float: left;\n    display: block;\n    width: 73%;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    border: 1px solid #cccccc;\n    margin-right: 1%;\n    height: 3.9rem;\n    padding-left: 10px;\n}\n"],sourceRoot:""}])},1139:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),l=n.n(o),c=n(19),s=n(41),u=n(29),m=n(26),p=n.n(m),h=n(988),d=n.n(h),f=n(187),A=n(20),E=n(42),b=n(23),v=n(24),g=n(184),Q=n(122),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),B=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderStaticField=function(e){var t=e.input,n=e.label,r=e.className;return l.a.createElement("div",null,l.a.createElement("div",{className:r},l.a.createElement("label",null,n),l.a.createElement("h6",null,t.value)))},n.renderEquipment=function(e){var t=e.fields,r=e.className,i=n.props.equipmentSelected;return l.a.createElement("ul",{className:r},l.a.createElement("label",null,"Equipment Needed",Object(E.a)("Select the equipment you anticipate needing for your reservation.")),t.map(function(e,t){return l.a.createElement("li",{key:t,className:"multiRowAdd"},i[t].name+" - "+Object(Q.c)(i[t].price),l.a.createElement(s.a,{name:e+".needed",id:"equip"+t,component:"input",type:"checkbox"}))}))},n.state={redirectToPayment:!1},n}return a(t,e),y(t,[{key:"componentWillMount",value:function(){var e=this.props.office;this.timeslots=this.initTimeslots(),this.firstAvail=this.getFirstAvailReservation(),this.props.initialize({equipmentSelected:e.equipment,numChairs:1,appts_per_hour:1,startTime:p()(this.firstAvail),endTime:p()(this.firstAvail).add(60,"minutes"),acknowledge:!1})}},{key:"initiatePayment",value:function(e){if(p()(e.endTime).isBefore(e.startTime))throw new s.c({endTime:"Closing time must be after opening time"});if(p()(e.startTime).add(60,"minutes").isAfter(e.endTime))throw new s.c({endTime:"Minimum reservation is 60 minutes",_error:"Invalid time frame, please correct error above"});if(p()(e.startTime).add(12,"hours").isBefore(e.endTime))throw new s.c({endTime:"Max length for reservation is 12 hours"});if(!e.acknowledge)throw new s.c({_error:"Please accept the terms to continue"});this.setState({redirectToPayment:!0})}},{key:"initTimeslots",value:function(){var e=this.props.listing,t=e.reservations.filter(function(e){return e.status===v.a});return Object(g.a)(e,t).map(function(t,n){var r=Object(g.d)(n,e.startTime);return p()(r).isSameOrBefore(p()())?0:t}).map(function(t,n){return{durationToNext:t,startTime:Object(g.d)(n,e.startTime)}})}},{key:"getFirstAvailReservation",value:function(){var e=this.props.listing,t=this.timeslots.map(function(e){return e.durationToNext}),n=t.findIndex(function(e){return e>60});return Object(g.d)(n,e.startTime)}},{key:"calcTime",value:function(){var e=this.props,t=e.startTime,n=e.endTime,r=n.diff(t,"minutes");return r<=0?0:r/60}},{key:"calcReservationFee",value:function(){var e=this.props,t=e.numChairs,n=e.listing;return Math.round(t*n.chairHourlyPrice*this.calcTime())}},{key:"calcBookingFee",value:function(){return Math.round(.15*this.calcReservationFee())}},{key:"calcEquipFee",value:function(){var e=this.props.equipmentSelected;return e&&0!==e.length?e.filter(function(e){return e.needed}).map(function(e){return e.price}).reduce(function(e,t){return t+e},0):0}},{key:"calcTotal",value:function(){var e=this.props.listing,t=this.calcReservationFee();return this.calcBookingFee()+t+this.calcEquipFee()+e.cleaningFee}},{key:"onOpeningTimeChange",value:function(e){var t=this.props,n=t.endTime,r=t.listing;p()(e).isAfter(p()(n))?p()(e).add(60,"minutes").isAfter(r.endTime)?(this.props.dispatch(Object(s.d)("reservationOptions","startTime",p()(r.endTime).subtract(60,"minutes"))),this.props.dispatch(Object(s.d)("reservationOptions","endTime",p()(r.endTime)))):(this.props.dispatch(Object(s.d)("reservationOptions","endTime",p()(e).add(60,"minutes"))),this.props.dispatch(Object(s.d)("reservationOptions","startTime",p()(e)))):this.props.dispatch(Object(s.d)("reservationOptions","startTime",p()(e)))}},{key:"renderOpeningTimePicker",value:function(e){var t=e.input,n=e.label,r=e.className,i=e.listing,a=e.tooltip,o=e.reservedTimeSlots,c=e.meta,s=c.touched,u=c.error,m=this.props.startTime,h=p()(this.firstAvail),d=m.isSame(h,"day")?h:p()(m).startOf("day"),b=p()(m).isSame(i.endTime,"day")?p()(i.endTime).subtract(60,"minutes"):p()().endOf("day"),v=o.filter(function(e){return e.isSame(p()(m),"day")});return l.a.createElement("div",{className:r},l.a.createElement("label",null,n&&n+" ",a&&Object(E.a)(a)),l.a.createElement(f.a,{customInput:l.a.createElement(A.j,null),selected:t.value,onChange:this.onOpeningTimeChange.bind(this),dateFormat:"LLL",minTime:p()(d),maxTime:p()(b),showTimeSelect:!0,minDate:p()(h),maxDate:p()(i.endTime),excludeTimes:v,timeFormat:"h:mm a",timeIntervals:15,timeCaption:"Time"}),s&&u&&l.a.createElement("span",{className:"red-text"},u))}},{key:"renderClosingTimePicker",value:function(e){var t=e.input,n=e.label,r=e.className,i=e.tooltip,a=e.durationToNext,o=e.listing,c=e.meta,s=c.touched,u=c.error,m=this.props,h=m.startTime,d=m.endTime,b=p()(h).add(60,"minutes").isSame(h,"day")?p()(h).add(60,"minutes"):p()(d).startOf("day"),v=p()(d).isSame(o.endTime,"day")?p()(o.endTime):p()(h).add(a,"minutes").isSame(h,"day")?p()(h).add(a,"minutes"):p()().endOf("day");return l.a.createElement("div",{className:r},l.a.createElement("label",null,n&&n+" ",i&&Object(E.a)(i)),l.a.createElement(f.a,{customInput:l.a.createElement(A.j,null),selected:t.value,onChange:t.onChange.bind(this),dateFormat:"LLL",minTime:p()(b),maxTime:p()(v),showTimeSelect:!0,minDate:p()(h).add(60,"minutes").isSame(h,"day")?p()(h):p()(h).add(1,"day"),maxDate:p()(o.endTime),timeFormat:"h:mm a",timeIntervals:15,timeCaption:"Time"}),s&&u&&l.a.createElement("span",{className:"red-text"},u))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,r=e.listing,i=e.error,a=e.equipmentSelected,o=e.auth;if(!this.props.initialized)return l.a.createElement("div",null,"Loading...");var c=this.props.startTime,m=this.timeslots.find(function(e){return p()(e.startTime).isSame(c,"minute")}),h=m?m.durationToNext:0,f=this.timeslots.filter(function(e){return e.durationToNext<60}).map(function(e){return e.startTime});if(this.state.redirectToPayment){var b=this.props,v=b.startTime,g=b.endTime,y=b.numChairs,B=this.props.equipmentSelected;B=JSON.stringify(B.filter(function(e){return e.needed}).map(function(e){return e.name}));var w={};return w.type="reservation",w.totalPaid=this.calcTotal(),w.equipmentFee=this.calcEquipFee(),w.cleaningFee=r.cleaningFee,w.bookingFee=this.calcBookingFee(),w.reservationFee=this.calcReservationFee(),w.startTime=p()(v).format(),w.endTime=p()(g).format(),w.numChairs=y,w.reservedBy=o.dentistId,w.equipmentSelected=B,w.listingId=r.id,l.a.createElement(u.b,{push:!0,to:{pathname:"/payment",search:"?"+d.a.stringify(w)}})}return l.a.createElement("form",{onSubmit:t(this.initiatePayment.bind(this))},l.a.createElement(A.h,{pb:4},l.a.createElement(A.q,{fontSize:5},"Choose reservation options")),l.a.createElement(A.h,{direction:"row"},l.a.createElement(A.h,{width:.5,pb:3,mr:4,flexDirection:"column"},l.a.createElement(s.a,{name:"startTime",label:"Doors opening",tooltip:"What is the first time you want available for patients to reserve?",component:this.renderOpeningTimePicker.bind(this),listing:r,reservedTimeSlots:f})),l.a.createElement(A.h,{width:.5,pb:3,ml:4,flexDirection:"column"},l.a.createElement(s.a,{name:"endTime",label:"Doors closing",tooltip:"What is the last time you want available for patients to reserve?",component:this.renderClosingTimePicker.bind(this),durationToNext:h,listing:r}))),l.a.createElement(A.h,{pb:3,flexDirection:"column"},l.a.createElement(s.a,{name:"numChairs",type:"select",label:"Number of chairs needed",tooltip:"If you work in pairs or with an assistant you may prefer to reserve multiple chairs.",style:{display:"block"},component:E.l},Object(E.j)(this.props.listing.numChairsAvailable,1,"- $"+(this.props.listing.chairHourlyPrice/100).toFixed(2)+"/chair/hr"))),a&&a.length?l.a.createElement("div",null,l.a.createElement(s.b,{name:"equipmentSelected",className:"row",component:this.renderEquipment})):l.a.createElement("div",null),l.a.createElement(A.h,{pt:2},l.a.createElement(A.a,{width:.2},l.a.createElement("label",null,"Chair Rental Fee",Object(E.a)("Total price based on hourly price and reservation duration.")),l.a.createElement("h6",null,Object(Q.c)(this.calcReservationFee()))),l.a.createElement(A.a,{width:.2},l.a.createElement("label",null,"Equipment Fee"),l.a.createElement("h6",null,Object(Q.c)(this.calcEquipFee()))),l.a.createElement(A.a,{width:.2},l.a.createElement("label",null,"Cleaning Fee",Object(E.a)("Price charged by host for post-reservation cleanup.")),l.a.createElement("h6",null,Object(Q.c)(r.cleaningFee))),l.a.createElement(A.a,{width:.2},l.a.createElement("label",null,"Booking Fee *",Object(E.a)("Fee for using Laguro services based on reservation cost.")),l.a.createElement("h6",null,Object(Q.c)(this.calcBookingFee()))),l.a.createElement(A.a,{width:.2},l.a.createElement("label",null,"Total due **"),l.a.createElement("h6",{className:"red-text"},Object(Q.c)(this.calcTotal())))),l.a.createElement(A.h,{pt:3,pb:3,flexDirection:"column"},l.a.createElement(A.a,null,l.a.createElement("sub",null,"* Booking fee is non-refundable")),l.a.createElement(A.a,null,l.a.createElement("sub",null,"** An additional 10% fee will be deducted from patient collections for use of Laguro services"))),l.a.createElement(A.h,{pb:3},l.a.createElement(s.a,{name:"acknowledge",label:"I understand and agree to the terms above",id:"acknowledge",component:E.d,type:"checkbox",className:"browser-default"})),l.a.createElement(A.h,{flexDirection:"column"},i&&l.a.createElement("strong",{className:"red-text"},i),l.a.createElement(A.b,{fullWidth:!0,color:"secondary",type:"submit",disabled:n},l.a.createElement(A.q,{fontSize:4,fontWeight:"medium"},"Book Reservation"))))}}]),t}(o.Component),w=function(e){var t=Object(s.e)("reservationOptions");return{numChairs:t(e,"numChairs"),equipmentSelected:t(e,"equipmentSelected"),startTime:t(e,"startTime"),endTime:t(e,"endTime")}};t.a=Object(s.g)({form:"reservationOptions"})(Object(c.b)(w,b)(B))},1140:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),l=n.n(o),c=n(26),s=n.n(c),u=n(20),m=n(184),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),p(t,[{key:"handleClick",value:function(e){var t=e.target.dataset,n=t.reservation,r=t.duration_to_next_appointment,i=t.start_time;this.props.handleBookAppointment(i,r,JSON.parse(n))}},{key:"render",value:function(){var e=this,t=this.props.reservation,n=t.appointments?t.appointments:[],r=Object(m.a)(t,n),i=s()(),a=r.map(function(n,r){var a=Object(m.d)(r,t.startTime);return l.a.createElement("div",{key:r},0!==n&&a.isAfter(i)?l.a.createElement("div",{"data-name":"available-slot"},l.a.createElement("a",{className:"text-accent-4 dropdown-trigger",style:{cursor:"pointer"},"data-target":"dropdown"+r},l.a.createElement(u.q,{color:"appointment_green","data-reservation":JSON.stringify(t),"data-duration_to_next_appointment":n,"data-start_time":a.format(),onClick:e.handleClick},a.format("h:mm a")+" - Available!"))):l.a.createElement("span",{className:"grey-text","data-name":"unavailable-slot",style:{textDecoration:"line-through",cursor:"not-allowed"}},a.format("h:mm a")+" - Reserved"))});return l.a.createElement("div",{className:"reservation-schedule"},a)}}]),t}(o.Component);t.a=h},1157:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),l=n.n(o),c=n(41),s=n(19),u=n(26),m=n.n(u),p=n(988),h=n.n(p),d=n(44),f=n(20),A=n(42),E=n(122),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){var e,n,a,o;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.formattedTime=function(e){var t=a.props.startTime,n=m()(t);return n.format("MMM D, YYYY")+" "+n.format("h:mm a")+" - "+m()(n).add(e,"minutes").format("h:mm a")},a.renderProcedures=function(e,t){return e.map(function(e){return l.a.createElement(f.m,{disabled:t<e.duration,key:e.name,value:e},e.name+" - "+e.duration+" mins")})},o=n,i(a,o)}return a(t,e),b(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dentist,n=e.durationToNextAppointment;this.props.initialize({procedure:t.procedures[0].duration<=n?t.procedures[0]:null,time:""+this.formattedTime(t.procedures[0].duration)})}},{key:"onSubmit",value:function(e){var t=this.props,n=t.startTime,r=t.reservation,i=t.auth;if(!e.acknowledge)throw new c.c({_error:"Please accept the terms to continue"});var a=m()(n).clone().add(e.procedure.duration,"minutes"),o={};o.type="appointment",o.totalPaid=E.a,o.reservationFee=E.a,o.startTime=m()(n).format(),o.endTime=m()(a).format(),o.procedure=JSON.stringify(e.procedure),o.reservationId=r.id,o.patientId=i.id,d.a.push("/payment?"+h.a.stringify(o))}},{key:"updateTime",value:function(e){this.props.initialize({time:this.formattedTime(e.target.value.duration)})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.dentist,r=e.error,i=e.durationToNextAppointment;return e.initialized?l.a.createElement("form",{onSubmit:t(this.onSubmit.bind(this))},l.a.createElement(f.i,{container:!0},l.a.createElement(f.i,{item:!0,xs:12},l.a.createElement(f.a,{pb:4},l.a.createElement(f.q,{fontSize:5,fontWeight:"bold",color:"abbey"},"Available Appointments"))),l.a.createElement(f.i,{item:!0,xs:12},l.a.createElement(f.a,{pb:3},l.a.createElement("label",null,"Selected Time"),l.a.createElement(c.a,{name:"time",disabled:!0,component:A.h}))),l.a.createElement(f.i,{item:!0,xs:12},l.a.createElement(f.a,{pb:4},l.a.createElement(c.a,{name:"procedure",label:"Procedures Available",tooltip:"What procedure are you coming in for?",component:A.l,validate:g,onChange:this.updateTime.bind(this)},this.renderProcedures(n.procedures,i)))),l.a.createElement(f.i,{item:!0,xs:12},l.a.createElement(f.h,{alignItems:"center",pb:4},l.a.createElement(c.a,{name:"acknowledge",label:"I understand and agree to the terms",component:A.d}))),l.a.createElement(f.i,{item:!0,xs:12},r&&l.a.createElement(f.q,{fontSize:3,color:"red"},r),l.a.createElement(f.b,{fullWidth:!0,color:"secondary",type:"submit"},l.a.createElement(f.q,{fontSize:4,fontWeight:"medium"},"Book Appointment"))))):l.a.createElement("div",null)}}]),t}(o.Component),g=function(e){return e?void 0:"Required"},Q=function(e){var t=Object(c.e)("bookAppointment");return{duration:t(e,"procedure.duration"),time:t(e,"time")}};t.a=Object(c.g)({form:"bookAppointment"})(Object(s.b)(Q,null)(v))},975:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{auth:e.auth,dentist:e.dentists.selectedDentist,listings:e.listings.all,reservations:e.reservations.all,appointments:Object(u.isEmpty)(e.appointments.selected)?null:e.appointments.selected,reviews:e.reviews.all}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n.n(l),s=n(19),u=n(185),m=(n.n(u),n(24)),p=n(1157),h=n(23),d=n(1134),f=n(334),A=n(1135),E=n(20),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isUserVerified=function(){if(n.state.isAppointmentLoading)return!1;var e=n.props.appointments;if(e){var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var l=a.value;if(l&&l.dentist&&l.dentist.id===n.dentist_id)return!0}}catch(e){r=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw i}}}return!1},n.closeModal=function(){n.setState({isModalOpen:!1,selectedStartTime:null,durationToNextAppointment:null,selectedReservation:{}})},n.state={isModalOpen:!1,selectedStartTime:null,durationToNextAppointment:null,showReservationOptions:!1,selectedReservation:{}},n.handleBookAppointment=n.handleBookAppointment.bind(n),n}return a(t,e),b(t,[{key:"componentWillMount",value:function(){var e=this;this.dentist_id=this.props.match.params.id,this.props.getDentist(this.dentist_id,m.P,m.u,m.s,m.I,m.N).then(function(){var t=e.props.dentist&&e.props.dentist.user?e.props.dentist.user:null;document.title="Laguro - "+(t?t.firstName+" "+t.lastName:"")});var t=this.props.auth;t&&(this.setState({isAppointmentLoading:!0}),this.props.fetchUser(t.googleId,m.d).then(function(){e.setState({isAppointmentLoading:!1})}))}},{key:"handleBookAppointment",value:function(e,t,n){this.setState({isModalOpen:!0,showReservationOptions:!0,selectedStartTime:e,durationToNextAppointment:t,selectedReservation:n})}},{key:"render",value:function(){var e=this.props,t=e.dentist,n=e.auth,r=e.reviews,i=e.reservations;return c.a.createElement("div",null,c.a.createElement(d.a,{type:"dentist",obj:t}),c.a.createElement(A.a,{type:"dentist",obj:t,reviews:r,reservations:i,auth:n,handleBookAppointment:this.handleBookAppointment,ownPage:n&&t&&n.dentistId===t.id,isUserVerified:this.isUserVerified()}),this.state.selectedStartTime&&n?c.a.createElement(E.l,{closable:!0,open:this.state.isModalOpen,closeModal:this.closeModal},c.a.createElement(p.a,{open:this.state.isModalOpen,closeModal:this.closeModal,dentist:t,startTime:this.state.selectedStartTime,durationToNextAppointment:this.state.durationToNextAppointment,reservation:this.state.selectedReservation,auth:n})):c.a.createElement(f.a,{open:this.state.isModalOpen,closeModal:this.closeModal}))}}]),t}(l.Component);t.default=Object(s.b)(o,h)(v)},988:function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"===typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}function l(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:m(a),n(m(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r}var s=n(990),u=n(121),m=n(991);t.extract=l,t.parse=c,t.stringify=function(e,t){t=u({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(l(e),t)}}},990:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},991:function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(n),r(i))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(o);return e}}function a(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=l.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=i(n[0]);r!==n[0]&&(t[n[0]]=r)}n=l.exec(e)}t["%C2"]="\ufffd";for(var a=Object.keys(t),o=0;o<a.length;o++){var c=a[o];e=e.replace(new RegExp(c,"g"),t[c])}return e}var o=new RegExp("%[a-f0-9]{2}","gi"),l=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}}});
//# sourceMappingURL=3.f70781ff.chunk.js.map