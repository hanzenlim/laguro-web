webpackJsonp([5],{1195:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),p=r(u),d=n(2),f=r(d),m=!1,h=!1,b=!1,y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce(function(e,t){return l({},e,n.props.hasOwnProperty(t)&&a({},t,n.props[t]))},{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(b)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return c(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!h&&!m){m=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise(function(n,r){t.onload=function(){h=!0,m=!1,n(),e.onScriptLoaded()},t.onerror=function(t){b=!0,m=!1,r(t),e.onScriptError(t)}});return{promise:new Promise(function(e,t){r.then(function(){return n?t({isCanceled:!0}):e()}),r.catch(function(e){return t(n?{isCanceled:!0}:e)})}),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){m||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return p.default.createElement("button",l({},a({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:l({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),p.default.createElement("span",{style:l({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return p.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},p.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?p.default.createElement(e,l({},a({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(p.default.Component);y.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},y.propTypes={desktopShowModal:f.default.bool,triggerEvent:f.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:f.default.string,style:f.default.object,textStyle:f.default.object,disabled:f.default.bool,ComponentClass:f.default.string,showLoadingDialog:f.default.func,hideLoadingDialog:f.default.func,onScriptError:f.default.func,onScriptTagCreated:f.default.func,reconfigureOnUpdate:f.default.bool,stripeKey:f.default.string.isRequired,token:f.default.func.isRequired,name:f.default.string,description:f.default.string,image:f.default.string,amount:f.default.number,locale:f.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:f.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:f.default.string,zipCode:f.default.bool,billingAddress:f.default.bool,shippingAddress:f.default.bool,email:f.default.string,allowRememberMe:f.default.bool,bitcoin:f.default.bool,alipay:f.default.oneOf(["auto",!0,!1]),alipayReusable:f.default.bool,opened:f.default.func,closed:f.default.func},y._isMounted=!1,t.default=y},1196:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{auth:e.auth}}var c=n(1),l=n.n(c),s=n(19),u=n(41),p=n(23),d=n(20),f=n(51),m=n(42),h=n(333),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={general:{email:!0,sms:!0}},g=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,l=Array(c),s=0;s<c;s++)l[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onSubmit=function(e){var t=o.props.auth,n=e.phoneNumber;if(n&&!Object(h.c)(n))throw new u.c({phoneNumber:"Please add a valid phone number."});var r=t.notificationSettings;r?r.general?r.general.sms=!0:r.general=y.general:r=y,o.props.updateUserProfile(o.props.auth.id,{phoneNumber:Object(h.b)(n),notificationSettings:r}),o.props.closeModal()},i=n,a(o,i)}return o(t,e),b(t,[{key:"renderPurposeStatement",value:function(){switch(this.props.type){case"appointment":return"This is so Laguro can contact you about any updates to your appointment.";case"listing":return"This is so Laguro can let you know you about any new reservations made for your listing.";case"reservation":return"This is so Laguro can let you know about any new appointments booked for your reservation.";default:return"This is so Laguro can contact you regarding this action."}}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.closeModal,r=e.open;return l.a.createElement(d.l,{closable:!0,open:r,closeModal:n},l.a.createElement("form",{onSubmit:t(this.onSubmit)},l.a.createElement(d.a,{pb:2},l.a.createElement(d.q,{fontSize:5},"Add your phone number")),l.a.createElement(d.a,{pb:2},l.a.createElement(d.q,null,this.renderPurposeStatement())),l.a.createElement(d.a,{pb:4},l.a.createElement(u.a,{name:"phoneNumber",label:"Phone Number",placeholder:"(555) 495-3947",validate:f.g,component:m.i,mask:h.a,placeholderChar:"\u2000"})),l.a.createElement(d.a,null,l.a.createElement(d.b,{type:"submit",color:"primary"},l.a.createElement(d.q,{fontSize:4,fontWeight:"medium"},"Add Phone Number")))))}}]),t}(c.Component);t.a=Object(u.g)({form:"addPhoneNumber"})(Object(s.b)(i,{updateUserProfile:p.updateUserProfile})(g))},977:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){return{listing:e.listings.selected,reservation:e.reservations.selected,auth:e.auth,procedures:e.patientProcedures.selectedProcedures}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),u=n.n(s),p=n(1),d=n.n(p),f=n(26),m=n.n(f),h=n(19),b=n(988),y=n.n(b),g=n(1195),v=n.n(g),E=n(15),S=n(20),w=n(50),O=n(1196),P=n(23),k=n(24),x=n(323),C=(n.n(x),n(184)),D=n(122),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=c(["\n    background-color: #F8F9FA;\n    min-height: 100vh;\n    min-width: 100vw;\n    width: 100%\n    height: 100%;\n"],["\n    background-color: #F8F9FA;\n    min-height: 100vh;\n    min-width: 100vw;\n    width: 100%\n    height: 100%;\n"]),M=c(["\n    height: 104px;\n    max-width: 112px;\n    width: 100%;\n    background-color: #c8c7c7;\n    border-radius: 2px;\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n    object-fit: cover;\n"],["\n    height: 104px;\n    max-width: 112px;\n    width: 100%;\n    background-color: #c8c7c7;\n    border-radius: 2px;\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n    object-fit: cover;\n"]),R=c(["\n    flex: 1;\n"],["\n    flex: 1;\n"]),T=c(["\n    height: 51px;\n    width: 100%;\n    border: 1px solid #c8c7c7;\n    border-radius: 2px;\n    background-color: ",";\n"],["\n    height: 51px;\n    width: 100%;\n    border: 1px solid #c8c7c7;\n    border-radius: 2px;\n    background-color: ",";\n"]),L=E.b.div(A),N=E.b.img(M),F=E.b.div(R),z=E.b.div(T,function(e){return e.theme.colors.white}),U=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleModal=function(){n.setState({isModalOpen:!n.state.isModalOpen})},n.handleCheckout=function(){n.setState({isButtonLoading:!0}),n.urlParams.type===k.c?n.handleCreateAppointment():n.urlParams.type===k.H?n.handleCreateReservation():n.urlParams.type===k.D&&n.handleUpdateProcedures()},n.handleCreateReservation=function(){var e=n.urlParams,t=e.startTime,r=e.endTime,a={numChairsSelected:n.urlParams.numChairs,equipmentSelected:JSON.parse(n.urlParams.equipmentSelected),listingId:n.urlParams.listingId,reservedBy:n.urlParams.reservedBy,startTime:t,endTime:r,paymentOptionId:n.props.auth.paymentOptions[0].id,totalPaid:n.urlParams.totalPaid};n.props.createReservation(a)},n.handleCreateAppointment=function(){var e=n.urlParams,t=e.startTime,r=e.endTime,a={reservationId:n.urlParams.reservationId,patientId:n.urlParams.patientId,procedure:JSON.parse(n.urlParams.procedure),startTime:t,endTime:r,paymentOptionId:n.props.auth.paymentOptions[0].id};n.props.createAppointment(a)},n.handleUpdateProcedures=function(){n.props.updatePatientProcedures({procedureIds:JSON.parse(n.urlParams.procedureIds),paymentOptionId:n.props.auth.paymentOptions[0].id})},n.renderTime=function(e,t){return Object(C.b)(e,t)},n.renderPaymentOptions=function(){return n.props.auth.paymentOptions?n.props.auth.paymentOptions.map(function(e){return d.a.createElement(z,{key:e.id},d.a.createElement(w.b,{vertical:15,left:10,right:30},d.a.createElement(S.i,{container:!0,justify:"space-between"},d.a.createElement(S.q,{fontSize:2},"VISA"),d.a.createElement(S.q,{fontSize:2,color:"silver"},"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",e.last4))))}):null},n.renderSubjectCards=function(){var e=n.urlParams.type;return e===k.c||e===k.H?n.renderEventCard():n.renderProcedureCards()},n.renderProcedureCards=function(){return n.props.procedures.map(function(e,t){return d.a.createElement(S.a,{key:t,mb:2},d.a.createElement(S.c,null,d.a.createElement(w.b,{horizontal:20,vertical:20},d.a.createElement(S.i,{container:!0,alignItems:"flex-start"},d.a.createElement(F,null,d.a.createElement(S.i,{container:!0,direction:"column"},d.a.createElement(S.i,{container:!0,justify:"space-between"},d.a.createElement(S.q,{fontSize:4,fontWeight:"bold"},e.name),d.a.createElement(S.q,{fontSize:3,fontWeight:"bold",color:"black"},Object(D.c)(e.patientEstimate))),d.a.createElement(w.b,{vertical:8},d.a.createElement(S.g,null)),d.a.createElement(S.i,{container:!0,wrap:"nowrap"},d.a.createElement("i",{className:"material-icons tiny"},"access_time"),d.a.createElement(w.b,{right:4}),d.a.createElement(S.q,{fontSize:3},"Time: "+m()(e.dateCreated).format("MM/DD/YYYY")))))))))})},n.renderEventCard=function(){var e=n.urlParams.type===k.c?n.props.reservation.office:n.props.listing.office,t=n.urlParams.totalPaid,r=y.a.parse(window.location.search);return d.a.createElement(S.c,null,d.a.createElement(w.b,{horizontal:20,vertical:20},d.a.createElement(S.i,{container:!0,alignItems:"flex-start"},d.a.createElement(N,{src:e.imageUrls[0]||"http://via.placeholder.com/250x250",alt:"office"}),d.a.createElement(w.b,{right:15}),d.a.createElement(F,null,d.a.createElement(S.i,{container:!0,direction:"column"},d.a.createElement(S.i,{container:!0,justify:"space-between"},d.a.createElement(S.q,{fontSize:4,fontWeight:"bold"},e.name),d.a.createElement(S.q,{fontSize:3,fontWeight:"bold",color:"black"},Object(D.c)(t))),d.a.createElement(w.b,{bottom:11}),d.a.createElement(S.i,{container:!0,wrap:"nowrap"},d.a.createElement("i",{className:"material-icons tiny"},"location_on"),d.a.createElement(w.b,{right:4}),d.a.createElement(S.q,{fontSize:3},"Location: "+e.location)),d.a.createElement(w.b,{vertical:8},d.a.createElement(S.g,null)),d.a.createElement(S.i,{container:!0,wrap:"nowrap"},d.a.createElement("i",{className:"material-icons tiny"},"access_time"),d.a.createElement(w.b,{right:4}),d.a.createElement(S.q,{fontSize:3},"Time: "+n.renderTime(r.startTime,r.endTime))))))))},n.renderSummaryCard=function(){var e=n.urlParams,t=e.type,r=e.totalPaid,a=e.equipmentFee,o=e.bookingFee,i=e.cleaningFee,c=e.reservationFee,l=e.procedurePatientEstimate;return d.a.createElement(S.c,null,d.a.createElement(S.h,{p:3,flexDirection:"column"},d.a.createElement(S.a,{pb:3},d.a.createElement(S.q,{fontSize:4,fontWeight:"bold",capitalize:!0},t+" Summary")),d.a.createElement(S.g,null),c&&d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"abbey",capitalize:!0},t+" Cost"),d.a.createElement(S.q,{fontSize:3,color:"abbey"},Object(D.c)(c)))),l&&d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"abbey",capitalize:!0},t+" Cost"),d.a.createElement(S.q,{fontSize:3,color:"abbey"},Object(D.c)(l)))),a&&a>0&&d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"abbey",capitalize:!0},"Equipment Fee"),d.a.createElement(S.q,{fontSize:3,color:"abbey"},Object(D.c)(a)))),i&&i>0&&d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"abbey",capitalize:!0},"Cleaning Fee"),d.a.createElement(S.q,{fontSize:3,color:"abbey"},Object(D.c)(i)))),o&&o>0&&d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"abbey",capitalize:!0},"Booking Fee"),d.a.createElement(S.q,{fontSize:3,color:"abbey"},Object(D.c)(o)))),d.a.createElement(S.g,null),d.a.createElement(S.a,{py:2},d.a.createElement(S.h,{justify:"space-between"},d.a.createElement(S.q,{fontSize:3,color:"black",fontWeight:"bold"},"Total"),d.a.createElement(S.q,{fontSize:3,color:"black",fontWeight:"bold"},Object(D.c)(r))))))},n.renderPaymentCard=function(){var e=n.props.auth,t=e.paymentOptions&&e.paymentOptions.length;return d.a.createElement(S.c,null,d.a.createElement(S.h,{p:3,flexDirection:"column"},d.a.createElement(S.a,{pb:3},d.a.createElement(S.q,{fontSize:4,fontWeight:"bold"},"Payment Information")),d.a.createElement(S.a,{pb:3},n.renderPaymentOptions()),d.a.createElement(S.a,{pb:3},d.a.createElement(v.a,{token:n.onSuccess.bind(n),stripeKey:x.stripeKey,currency:"USD",panelLabel:"Add card"},d.a.createElement(S.k,null,d.a.createElement(S.b,{fullWidth:!0,variant:"raised",color:"primary"},d.a.createElement(S.q,{fontSize:4,fontWeight:"medium"},"Add Payment Method"))))),d.a.createElement(S.b,{fullWidth:!0,onClick:n.handleCheckout,variant:"raised",color:"secondary",disabled:!t||n.state.isButtonLoading},d.a.createElement(S.q,{fontSize:4,fontWeight:"medium"},"Check out"))))};var r=n.props.location;return n.urlParams=y.a.parse(r.search),n.state={isButtonLoading:!1,isFetching:!0,isModalOpen:!e.auth.phoneNumber},n}return i(t,e),j(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){var t,n,r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({isFetching:!0}),t=this.urlParams,n=t.listingId,r=t.reservationId,a=t.procedureIds,o=t.type,o!==k.c){e.next=7;break}return e.next=5,this.props.getReservation(r);case 5:e.next=15;break;case 7:if(o!==k.H){e.next=12;break}return e.next=10,this.props.getListing(n);case 10:e.next=15;break;case 12:if(o!==k.D){e.next=15;break}return e.next=15,this.props.getProcedures(JSON.parse(a));case 15:this.setState({isFetching:!1});case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"onSuccess",value:function(){function e(e){return t.apply(this,arguments)}var t=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.auth,!n.paymentOptions.length){e.next=4;break}return e.next=4,this.props.removePaymentOption(n.id,n.paymentOptions[0].id);case 4:return e.next=6,this.props.addPaymentOption(n.id,t.id);case 6:return e.next=8,this.props.fetchUser(k.n,k.A);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.urlParams.type,t=e===k.D?"Review and pay for your procedures":"Review and place your "+e;return this.state.isFetching?d.a.createElement("div",{className:"stretch_height"}):d.a.createElement(L,null,d.a.createElement(S.f,null,d.a.createElement(S.a,{pb:[3,5]}),d.a.createElement(S.h,null,d.a.createElement(S.i,{container:!0},d.a.createElement(S.i,{item:!0,xs:12},d.a.createElement(S.q,{fontSize:5,fontWeight:"bold"},t)))),d.a.createElement(S.a,{pb:3}),d.a.createElement(S.i,{container:!0,spacing:16},d.a.createElement(S.i,{item:!0,xs:12,lg:8},this.renderSubjectCards()),d.a.createElement(S.i,{item:!0,xs:12,lg:4},d.a.createElement(S.i,{container:!0,spacing:16},d.a.createElement(S.i,{item:!0,xs:12,sm:6,lg:12},this.renderSummaryCard()),d.a.createElement(S.i,{item:!0,xs:12,sm:6,lg:12},this.renderPaymentCard()))))),d.a.createElement(O.a,{open:this.state.isModalOpen,closeModal:this.toggleModal,type:this.urlParams.type}))}}]),t}(p.Component);t.default=Object(h.b)(l,P)(U)},988:function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}function a(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function o(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"===typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){t=u({arrayFormat:"none"},t);var n=a(t),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:p(o),n(p(a),o,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e},Object.create(null))):r}var s=n(990),u=n(121),p=n(991);t.extract=c,t.parse=l,t.stringify=function(e,t){t=u({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return o(r,t);if(Array.isArray(a)){var i=[];return a.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return o(r,t)+"="+o(a,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},990:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},991:function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],r(n),r(a))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(i),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(i);return e}}function o(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=c.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=c.exec(e)}t["%C2"]="\ufffd";for(var o=Object.keys(t),i=0;i<o.length;i++){var l=o[i];e=e.replace(new RegExp(l,"g"),t[l])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),c=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return o(e)}}}});
//# sourceMappingURL=5.5ca56290.chunk.js.map