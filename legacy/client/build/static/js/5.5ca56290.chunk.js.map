{"version":3,"sources":["../static/js/5.5ca56290.chunk.js","../node_modules/react-stripe-checkout/dist/main.js","components/forms/AddPhoneNumber.js","components/Payment.js","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js"],"names":["webpackJsonp","1195","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_extends","assign","target","i","arguments","length","source","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_propTypes","_propTypes2","scriptLoading","scriptLoaded","scriptDidError","ReactStripeCheckout","_React$Component","this","_this","getPrototypeOf","onScriptLoaded","stripeHandler","StripeCheckout","configure","stripeKey","hasPendingClick","showStripeDialog","onScriptError","_len","args","Array","_key","hideLoadingDialog","apply","onClosed","_len2","_key2","_isMounted","setState","open","closed","onOpened","_len3","_key3","opened","getConfig","reduce","config","onClick","disabled","Error","x","showLoadingDialog","handleOnMouseDown","buttonActive","handleOnMouseUp","state","_this2","script","document","createElement","onScriptTagCreated","src","async","loadPromise","canceled","promise","Promise","resolve","reject","onload","onerror","event","accept","cancel","then","isCanceled","catch","error","body","appendChild","updateStripeHandler","close","reconfigureOnUpdate","_len4","_key4","_len5","_key5","triggerEvent","className","onMouseDown","onFocus","onMouseUp","onMouseOut","onBlur","style","overflow","display","background","border","padding","textDecoration","borderRadius","boxShadow","cursor","visibility","userSelect","backgroundImage","fontFamily","fontSize","position","height","lineHeight","color","fontWeight","textShadow","textStyle","label","desktopShowModal","ComponentClass","children","renderDisabledButton","renderDefaultStripeButton","Component","defaultProps","locale","propTypes","bool","oneOf","string","object","func","isRequired","token","name","description","image","amount","number","currency","panelLabel","zipCode","billingAddress","shippingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable","1196","__webpack_exports__","mapStateToProps","auth","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_redux_form__","__WEBPACK_IMPORTED_MODULE_3__actions__","__WEBPACK_IMPORTED_MODULE_4__common__","__WEBPACK_IMPORTED_MODULE_5__formValidation__","__WEBPACK_IMPORTED_MODULE_6__sharedComponents__","__WEBPACK_IMPORTED_MODULE_7__util_phoneNumberUtil__","defaultSettings","general","sms","AddPhoneNumber","_Component","_ref","_temp","_ret","concat","onSubmit","values","phoneNumber","notificationSettings","updateUserProfile","id","closeModal","type","_props","handleSubmit","a","closable","pb","renderPurposeStatement","placeholder","validate","component","mask","placeholderChar","form","977","_asyncToGenerator","fn","gen","step","arg","info","done","err","_taggedTemplateLiteral","strings","raw","freeze","listing","listings","selected","reservation","reservations","procedures","patientProcedures","selectedProcedures","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_moment__","__WEBPACK_IMPORTED_MODULE_2_moment___default","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4_query_string__","__WEBPACK_IMPORTED_MODULE_4_query_string___default","__WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout__","__WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout___default","__WEBPACK_IMPORTED_MODULE_6_styled_components__","__WEBPACK_IMPORTED_MODULE_7__common__","__WEBPACK_IMPORTED_MODULE_8__common_Spacing__","__WEBPACK_IMPORTED_MODULE_9__forms_AddPhoneNumber__","__WEBPACK_IMPORTED_MODULE_10__actions__","__WEBPACK_IMPORTED_MODULE_11__util_strings__","__WEBPACK_IMPORTED_MODULE_12__config_keys__","__WEBPACK_IMPORTED_MODULE_13__util_timeUtil__","__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__","_templateObject","_templateObject2","_templateObject3","_templateObject4","StyledWrapper","div","StyledListingImage","img","StyledListingInfo","StyledPaymentOption","theme","colors","white","Payment","toggleModal","isModalOpen","handleCheckout","isButtonLoading","urlParams","handleCreateAppointment","handleCreateReservation","handleUpdateProcedures","_this$urlParams","startTime","endTime","reservationPayload","numChairsSelected","numChairs","equipmentSelected","JSON","parse","listingId","reservedBy","paymentOptionId","paymentOptions","totalPaid","createReservation","_this$urlParams2","appointmentPayload","reservationId","patientId","procedure","createAppointment","updatePatientProcedures","procedureIds","renderTime","renderPaymentOptions","map","paymentOption","vertical","left","right","container","justify","last4","renderSubjectCards","renderEventCard","renderProcedureCards","pc","index","mb","horizontal","alignItems","direction","patientEstimate","wrap","dateCreated","format","office","parsed","window","location","search","imageUrls","alt","bottom","renderSummaryCard","_this$urlParams3","equipmentFee","bookingFee","cleaningFee","reservationFee","procedurePatientEstimate","p","flexDirection","capitalize","py","renderPaymentCard","hasPaymentOptions","onSuccess","bind","fullWidth","variant","isFetching","loadData","mark","_callee","_urlParams","_context","prev","next","getReservation","getListing","getProcedures","stop","_x","_ref2","_callee2","response","_context2","removePaymentOption","addPaymentOption","fetchUser","header","item","xs","spacing","lg","sm","988","encoderForArrayFormat","opts","arrayFormat","encode","join","parserForArrayFormat","result","accumulator","exec","replace","undefined","strict","strictUriEncode","encodeURIComponent","keysSorter","input","isArray","sort","keys","b","Number","extract","str","queryStart","indexOf","slice","objectAssign","formatter","ret","trim","split","forEach","param","parts","shift","val","decodeComponent","Boolean","stringify","val2","push","filter","parseUrl","url","query","990","c","charCodeAt","toString","toUpperCase","991","decodeComponents","components","decodeURIComponent","decode","tokens","match","singleMatcher","customDecodeURIComponent","replaceMap","%FE%FF","%FF%FE","multiMatcher","entries","RegExp","encodedURI"],"mappings":"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","file":"static/js/5.5ca56290.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 1195:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar scriptLoading = false;\nvar scriptLoaded = false;\nvar scriptDidError = false;\n\nvar ReactStripeCheckout = function (_React$Component) {\n  _inherits(ReactStripeCheckout, _React$Component);\n\n  function ReactStripeCheckout(props) {\n    _classCallCheck(this, ReactStripeCheckout);\n\n    var _this = _possibleConstructorReturn(this, (ReactStripeCheckout.__proto__ || Object.getPrototypeOf(ReactStripeCheckout)).call(this, props));\n\n    _this.onScriptLoaded = function () {\n      if (!ReactStripeCheckout.stripeHandler) {\n        ReactStripeCheckout.stripeHandler = StripeCheckout.configure({\n          key: _this.props.stripeKey\n        });\n        if (_this.hasPendingClick) {\n          _this.showStripeDialog();\n        }\n      }\n    };\n\n    _this.onScriptError = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.hideLoadingDialog();\n      if (_this.props.onScriptError) {\n        _this.props.onScriptError.apply(_this, args);\n      }\n    };\n\n    _this.onClosed = function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      if (_this._isMounted) _this.setState({ open: false });\n      if (_this.props.closed) {\n        _this.props.closed.apply(_this, args);\n      }\n    };\n\n    _this.onOpened = function () {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      _this.setState({ open: true });\n      if (_this.props.opened) {\n        _this.props.opened.apply(_this, args);\n      }\n    };\n\n    _this.getConfig = function () {\n      return ['token', 'image', 'name', 'description', 'amount', 'locale', 'currency', 'panelLabel', 'zipCode', 'shippingAddress', 'billingAddress', 'email', 'allowRememberMe', 'bitcoin', 'alipay', 'alipayReusable'].reduce(function (config, key) {\n        return _extends({}, config, _this.props.hasOwnProperty(key) && _defineProperty({}, key, _this.props[key]));\n      }, {\n        opened: _this.onOpened,\n        closed: _this.onClosed\n      });\n    };\n\n    _this.onClick = function () {\n      // eslint-disable-line react/sort-comp\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (scriptDidError) {\n        try {\n          throw new Error('Tried to call onClick, but StripeCheckout failed to load');\n        } catch (x) {} // eslint-disable-line no-empty\n      } else if (ReactStripeCheckout.stripeHandler) {\n        _this.showStripeDialog();\n      } else {\n        _this.showLoadingDialog();\n        _this.hasPendingClick = true;\n      }\n    };\n\n    _this.handleOnMouseDown = function () {\n      _this.setState({\n        buttonActive: true\n      });\n    };\n\n    _this.handleOnMouseUp = function () {\n      _this.setState({\n        buttonActive: false\n      });\n    };\n\n    _this.state = {\n      open: false,\n      buttonActive: false\n    };\n    return _this;\n  }\n\n  _createClass(ReactStripeCheckout, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      if (scriptLoaded) {\n        return;\n      }\n\n      if (scriptLoading) {\n        return;\n      }\n\n      scriptLoading = true;\n\n      var script = document.createElement('script');\n      if (typeof this.props.onScriptTagCreated === 'function') {\n        this.props.onScriptTagCreated(script);\n      }\n\n      script.src = 'https://checkout.stripe.com/checkout.js';\n      script.async = 1;\n\n      this.loadPromise = function () {\n        var canceled = false;\n        var promise = new Promise(function (resolve, reject) {\n          script.onload = function () {\n            scriptLoaded = true;\n            scriptLoading = false;\n            resolve();\n            _this2.onScriptLoaded();\n          };\n          script.onerror = function (event) {\n            scriptDidError = true;\n            scriptLoading = false;\n            reject(event);\n            _this2.onScriptError(event);\n          };\n        });\n        var wrappedPromise = new Promise(function (accept, cancel) {\n          promise.then(function () {\n            return canceled ? cancel({ isCanceled: true }) : accept();\n          }); // eslint-disable-line no-confusing-arrow\n          promise.catch(function (error) {\n            return canceled ? cancel({ isCanceled: true }) : cancel(error);\n          }); // eslint-disable-line no-confusing-arrow\n        });\n\n        return {\n          promise: wrappedPromise,\n          cancel: function cancel() {\n            canceled = true;\n          }\n        };\n      }();\n\n      this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError);\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!scriptLoading) {\n        this.updateStripeHandler();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      if (this.loadPromise) {\n        this.loadPromise.cancel();\n      }\n      if (ReactStripeCheckout.stripeHandler && this.state.open) {\n        ReactStripeCheckout.stripeHandler.close();\n      }\n    }\n  }, {\n    key: 'updateStripeHandler',\n    value: function updateStripeHandler() {\n      if (!ReactStripeCheckout.stripeHandler || this.props.reconfigureOnUpdate) {\n        ReactStripeCheckout.stripeHandler = StripeCheckout.configure({\n          key: this.props.stripeKey\n        });\n      }\n    }\n  }, {\n    key: 'showLoadingDialog',\n    value: function showLoadingDialog() {\n      if (this.props.showLoadingDialog) {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        this.props.showLoadingDialog.apply(this, args);\n      }\n    }\n  }, {\n    key: 'hideLoadingDialog',\n    value: function hideLoadingDialog() {\n      if (this.props.hideLoadingDialog) {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          args[_key5] = arguments[_key5];\n        }\n\n        this.props.hideLoadingDialog.apply(this, args);\n      }\n    }\n  }, {\n    key: 'showStripeDialog',\n    value: function showStripeDialog() {\n      this.hideLoadingDialog();\n      ReactStripeCheckout.stripeHandler.open(this.getConfig());\n    }\n  }, {\n    key: 'renderDefaultStripeButton',\n    value: function renderDefaultStripeButton() {\n      return _react2.default.createElement(\n        'button',\n        _extends({}, _defineProperty({}, this.props.triggerEvent, this.onClick), {\n          className: this.props.className,\n          onMouseDown: this.handleOnMouseDown,\n          onFocus: this.handleOnMouseDown,\n          onMouseUp: this.handleOnMouseUp,\n          onMouseOut: this.handleOnMouseUp,\n          onBlur: this.handleOnMouseUp,\n          style: _extends({}, {\n            overflow: 'hidden',\n            display: 'inline-block',\n            background: 'linear-gradient(#28a0e5,#015e94)',\n            border: 0,\n            padding: 1,\n            textDecoration: 'none',\n            borderRadius: 5,\n            boxShadow: '0 1px 0 rgba(0,0,0,0.2)',\n            cursor: 'pointer',\n            visibility: 'visible',\n            userSelect: 'none'\n          }, this.state.buttonActive && {\n            background: '#005d93'\n          }, this.props.style)\n        }),\n        _react2.default.createElement(\n          'span',\n          {\n            style: _extends({}, {\n              backgroundImage: 'linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)',\n              fontFamily: '\"Helvetica Neue\",Helvetica,Arial,sans-serif',\n              fontSize: 14,\n              position: 'relative',\n              padding: '0 12px',\n              display: 'block',\n              height: 30,\n              lineHeight: '30px',\n              color: '#fff',\n              fontWeight: 'bold',\n              boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.25)',\n              textShadow: '0 -1px 0 rgba(0,0,0,0.25)',\n              borderRadius: 4\n            }, this.state.buttonActive && {\n              color: '#eee',\n              boxShadow: 'inset 0 1px 0 rgba(0,0,0,0.1)',\n              backgroundImage: 'linear-gradient(#008cdd,#008cdd 85%,#239adf)'\n            }, this.props.textStyle)\n          },\n          this.props.label\n        )\n      );\n    }\n  }, {\n    key: 'renderDisabledButton',\n    value: function renderDisabledButton() {\n      return _react2.default.createElement(\n        'button',\n        {\n          disabled: true,\n          style: {\n            background: 'rgba(0,0,0,0.2)',\n            overflow: 'hidden',\n            display: 'inline-block',\n            border: 0,\n            padding: 1,\n            textDecoration: 'none',\n            borderRadius: 5,\n            userSelect: 'none'\n          }\n        },\n        _react2.default.createElement(\n          'span',\n          {\n            style: {\n              boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.25)',\n              fontFamily: '\"Helvetica Neue\",Helvetica,Arial,sans-serif',\n              fontSize: 14,\n              position: 'relative',\n              padding: '0 12px',\n              display: 'block',\n              height: 30,\n              lineHeight: '30px',\n              borderRadius: 4,\n              color: '#999',\n              background: '#f8f9fa',\n              textShadow: '0 1px 0 rgba(255,255,255,0.5)'\n            }\n          },\n          this.props.label\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.desktopShowModal === true && !this.state.open) {\n        this.onClick();\n      } else if (this.props.desktopShowModal === false && this.state.open) {\n        ReactStripeCheckout.stripeHandler.close();\n      }\n\n      var ComponentClass = this.props.ComponentClass;\n\n      if (this.props.children) {\n        return _react2.default.createElement(ComponentClass, _extends({}, _defineProperty({}, this.props.triggerEvent, this.onClick), {\n          children: this.props.children\n        }));\n      }\n      return this.props.disabled ? this.renderDisabledButton() : this.renderDefaultStripeButton();\n    }\n  }]);\n\n  return ReactStripeCheckout;\n}(_react2.default.Component);\n\nReactStripeCheckout.defaultProps = {\n  className: 'StripeCheckout',\n  label: 'Pay With Card',\n  locale: 'auto',\n  ComponentClass: 'span',\n  reconfigureOnUpdate: false,\n  triggerEvent: 'onClick'\n};\nReactStripeCheckout.propTypes = {\n  // Opens / closes the checkout modal by value\n  // WARNING: does not work on mobile due to browser security restrictions\n  // NOTE: Must be set to false when receiving token to prevent modal from\n  //       opening automatically after closing\n  desktopShowModal: _propTypes2.default.bool,\n\n  triggerEvent: _propTypes2.default.oneOf(['onClick', 'onTouchTap', 'onTouchStart']),\n\n  // If included, will render the default blue button with label text.\n  // (Requires including stripe-checkout.css or adding the .styl file\n  // to your pipeline)\n  label: _propTypes2.default.string,\n\n  // Custom styling for default button\n  style: _propTypes2.default.object,\n  // Custom styling for <span> tag inside default button\n  textStyle: _propTypes2.default.object,\n\n  // Prevents any events from opening the popup\n  // Adds the disabled prop to the button and adjusts the styling as well\n  disabled: _propTypes2.default.bool,\n\n  // Named component to wrap button (eg. div)\n  ComponentClass: _propTypes2.default.string,\n\n  // Show a loading indicator\n  showLoadingDialog: _propTypes2.default.func,\n  // Hide the loading indicator\n  hideLoadingDialog: _propTypes2.default.func,\n\n  // Run this method when the scrupt fails to load. Will run if the internet\n  // connection is offline when attemting to load the script.\n  onScriptError: _propTypes2.default.func,\n\n  // Runs when the script tag is created, but before it is added to the DOM\n  onScriptTagCreated: _propTypes2.default.func,\n\n  // By default, any time the React component is updated, it will call\n  // StripeCheckout.configure, which may result in additional XHR calls to the\n  // stripe API.  If you know the first configuration is all you need, you\n  // can set this to false.  Subsequent updates will affect the StripeCheckout.open\n  // (e.g. different prices)\n  reconfigureOnUpdate: _propTypes2.default.bool,\n\n  // =====================================================\n  // Required by stripe\n  // see Stripe docs for more info:\n  //   https://stripe.com/docs/checkout#integration-custom\n  // =====================================================\n\n  // Your publishable key (test or live).\n  // can't use \"key\" as a prop in react, so have to change the keyname\n  stripeKey: _propTypes2.default.string.isRequired,\n\n  // The callback to invoke when the Checkout process is complete.\n  //   function(token)\n  //     token is the token object created.\n  //     token.id can be used to create a charge or customer.\n  //     token.email contains the email address entered by the user.\n  token: _propTypes2.default.func.isRequired,\n\n  // ==========================\n  // Highly Recommended Options\n  // ==========================\n\n  // Name of the company or website.\n  name: _propTypes2.default.string,\n\n  // A description of the product or service being purchased.\n  description: _propTypes2.default.string,\n\n  // A relative URL pointing to a square image of your brand or product. The\n  // recommended minimum size is 128x128px. The recommended image types are\n  // .gif, .jpeg, and .png.\n  image: _propTypes2.default.string,\n\n  // The amount (in cents) that's shown to the user. Note that you will still\n  // have to explicitly include it when you create a charge using the API.\n  amount: _propTypes2.default.number,\n\n  // Specify auto to display Checkout in the user's preferred language, if\n  // available. English will be used by default.\n  //\n  // https://stripe.com/docs/checkout#supported-languages\n  // for more info.\n  locale: _propTypes2.default.oneOf(['auto', // (Default) Automatically chosen by checkout\n  'zh', // Simplified Chinese\n  'da', // Danish\n  'nl', // Dutch\n  'en', // English\n  'fr', // French\n  'de', // German\n  'it', // Italian\n  'ja', // Japanease\n  'no', // Norwegian\n  'es', // Spanish\n  'sv']),\n\n  // ==============\n  // Optional Props\n  // ==============\n\n  // The currency of the amount (3-letter ISO code). The default is USD.\n  currency: _propTypes2.default.oneOf(['AED', 'AFN', 'ALL', 'AMD', 'ANG', 'AOA', 'ARS', 'AUD', 'AWG', 'AZN', 'BAM', 'BBD', // eslint-disable-line comma-spacing\n  'BDT', 'BGN', 'BIF', 'BMD', 'BND', 'BOB', 'BRL', 'BSD', 'BWP', 'BZD', 'CAD', 'CDF', // eslint-disable-line comma-spacing\n  'CHF', 'CLP', 'CNY', 'COP', 'CRC', 'CVE', 'CZK', 'DJF', 'DKK', 'DOP', 'DZD', 'EEK', // eslint-disable-line comma-spacing\n  'EGP', 'ETB', 'EUR', 'FJD', 'FKP', 'GBP', 'GEL', 'GIP', 'GMD', 'GNF', 'GTQ', 'GYD', // eslint-disable-line comma-spacing\n  'HKD', 'HNL', 'HRK', 'HTG', 'HUF', 'IDR', 'ILS', 'INR', 'ISK', 'JMD', 'JPY', 'KES', // eslint-disable-line comma-spacing\n  'KGS', 'KHR', 'KMF', 'KRW', 'KYD', 'KZT', 'LAK', 'LBP', 'LKR', 'LRD', 'LSL', 'LTL', // eslint-disable-line comma-spacing\n  'LVL', 'MAD', 'MDL', 'MGA', 'MKD', 'MNT', 'MOP', 'MRO', 'MUR', 'MVR', 'MWK', 'MXN', // eslint-disable-line comma-spacing\n  'MYR', 'MZN', 'NAD', 'NGN', 'NIO', 'NOK', 'NPR', 'NZD', 'PAB', 'PEN', 'PGK', 'PHP', // eslint-disable-line comma-spacing\n  'PKR', 'PLN', 'PYG', 'QAR', 'RON', 'RSD', 'RUB', 'RWF', 'SAR', 'SBD', 'SCR', 'SEK', // eslint-disable-line comma-spacing\n  'SGD', 'SHP', 'SLL', 'SOS', 'SRD', 'STD', 'SVC', 'SZL', 'THB', 'TJS', 'TOP', 'TRY', // eslint-disable-line comma-spacing\n  'TTD', 'TWD', 'TZS', 'UAH', 'UGX', 'USD', 'UYU', 'UZS', 'VND', 'VUV', 'WST', 'XAF', // eslint-disable-line comma-spacing\n  'XCD', 'XOF', 'XPF', 'YER', 'ZAR', 'ZMW']),\n\n  // The label of the payment button in the Checkout form (e.g. Subscribe,\n  // Pay {{amount}}, etc.). If you include {{amount}}, it will be replaced\n  // by the provided amount. Otherwise, the amount will be appended to the\n  // end of your label.\n  panelLabel: _propTypes2.default.string,\n\n  // Specify whether Checkout should validate the billing ZIP code (true or\n  // false)\n  zipCode: _propTypes2.default.bool,\n\n  // Specify whether Checkout should collect the user's billing address\n  // (true or false). The default is false.\n  billingAddress: _propTypes2.default.bool,\n\n  // Specify whether Checkout should collect the user's shipping address\n  // (true or false). The default is false.\n  shippingAddress: _propTypes2.default.bool,\n\n  // Specify whether Checkout should validate the billing ZIP code (true or\n  // false). The default is false.\n  email: _propTypes2.default.string,\n\n  // Specify whether to include the option to \"Remember Me\" for future\n  // purchases (true or false). The default is true.\n  allowRememberMe: _propTypes2.default.bool,\n\n  // Specify whether to accept Bitcoin in Checkout. The default is false.\n  bitcoin: _propTypes2.default.bool,\n\n  // Specify whether to accept Alipay ('auto', true, or false). The default\n  // is false.\n  alipay: _propTypes2.default.oneOf(['auto', true, false]),\n\n  // Specify if you need reusable access to the customer's Alipay account\n  // (true or false). The default is false.\n  alipayReusable: _propTypes2.default.bool,\n\n  // function() The callback to invoke when Checkout is opened (not supported\n  // in IE6 and IE7).\n  opened: _propTypes2.default.func,\n\n  // function() The callback to invoke when Checkout is closed (not supported\n  // in IE6 and IE7).\n  closed: _propTypes2.default.func\n};\nReactStripeCheckout._isMounted = false;\nexports.default = ReactStripeCheckout;\n\n\n/***/ }),\n\n/***/ 1196:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AddPhoneNumber */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux_form__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__actions__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__common__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formValidation__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sharedComponents__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_phoneNumberUtil__ = __webpack_require__(333);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var defaultSettings={general:{email:true,sms:true}};var AddPhoneNumber=function(_Component){_inherits(AddPhoneNumber,_Component);function AddPhoneNumber(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AddPhoneNumber);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddPhoneNumber.__proto__||Object.getPrototypeOf(AddPhoneNumber)).call.apply(_ref,[this].concat(args))),_this),_this.onSubmit=function(values){var auth=_this.props.auth;var phoneNumber=values.phoneNumber;if(phoneNumber&&!Object(__WEBPACK_IMPORTED_MODULE_7__util_phoneNumberUtil__[\"c\" /* isPhoneNumberInputValid */])(phoneNumber)){throw new __WEBPACK_IMPORTED_MODULE_2_redux_form__[\"c\" /* SubmissionError */]({phoneNumber:'Please add a valid phone number.'});}var notificationSettings=auth.notificationSettings;if(!notificationSettings){notificationSettings=defaultSettings;}else if(!notificationSettings.general){notificationSettings.general=defaultSettings.general;}else{notificationSettings.general.sms=true;}_this.props.updateUserProfile(_this.props.auth.id,{phoneNumber:Object(__WEBPACK_IMPORTED_MODULE_7__util_phoneNumberUtil__[\"b\" /* formatPhoneNumber */])(phoneNumber),notificationSettings:notificationSettings});_this.props.closeModal();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AddPhoneNumber,[{key:'renderPurposeStatement',value:function renderPurposeStatement(){var type=this.props.type;switch(type){case'appointment':return'This is so Laguro can contact you about any updates to your appointment.';case'listing':return'This is so Laguro can let you know you about any new reservations made for your listing.';case'reservation':return'This is so Laguro can let you know about any new appointments booked for your reservation.';default:return'This is so Laguro can contact you regarding this action.';}}},{key:'render',value:function render(){var _props=this.props,handleSubmit=_props.handleSubmit,closeModal=_props.closeModal,open=_props.open;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"l\" /* Modal */],{closable:true,open:open,closeModal:closeModal},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('form',{onSubmit:handleSubmit(this.onSubmit)},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"a\" /* Box */],{pb:2},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"q\" /* Typography */],{fontSize:5},'Add your phone number')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"a\" /* Box */],{pb:2},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"q\" /* Typography */],null,this.renderPurposeStatement())),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"a\" /* Box */],{pb:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_redux_form__[\"a\" /* Field */],{name:'phoneNumber',label:'Phone Number',placeholder:'(555) 495-3947',validate:__WEBPACK_IMPORTED_MODULE_5__formValidation__[\"g\" /* required */],component:__WEBPACK_IMPORTED_MODULE_6__sharedComponents__[\"i\" /* renderMaskedField */],mask:__WEBPACK_IMPORTED_MODULE_7__util_phoneNumberUtil__[\"a\" /* PHONE_NUMBER_MASK */],placeholderChar:'\\u2000'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"a\" /* Box */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"b\" /* Button */],{type:'submit',color:'primary'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'medium'},'Add Phone Number')))));}}]);return AddPhoneNumber;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);function mapStateToProps(state){return{auth:state.auth};}/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_redux_form__[\"g\" /* reduxForm */])({form:'addPhoneNumber'})(Object(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"b\" /* connect */])(mapStateToProps,{updateUserProfile:__WEBPACK_IMPORTED_MODULE_3__actions__[\"updateUserProfile\"]})(AddPhoneNumber)));\n\n/***/ }),\n\n/***/ 977:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_query_string__ = __webpack_require__(988);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_query_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_query_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout__ = __webpack_require__(1195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_styled_components__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__common__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__common_Spacing__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__forms_AddPhoneNumber__ = __webpack_require__(1196);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__actions__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__util_strings__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__config_keys__ = __webpack_require__(323);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__config_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__config_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__util_timeUtil__ = __webpack_require__(184);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__ = __webpack_require__(122);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _templateObject=_taggedTemplateLiteral(['\\n    background-color: #F8F9FA;\\n    min-height: 100vh;\\n    min-width: 100vw;\\n    width: 100%\\n    height: 100%;\\n'],['\\n    background-color: #F8F9FA;\\n    min-height: 100vh;\\n    min-width: 100vw;\\n    width: 100%\\n    height: 100%;\\n']),_templateObject2=_taggedTemplateLiteral(['\\n    height: 104px;\\n    max-width: 112px;\\n    width: 100%;\\n    background-color: #c8c7c7;\\n    border-radius: 2px;\\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\\n    object-fit: cover;\\n'],['\\n    height: 104px;\\n    max-width: 112px;\\n    width: 100%;\\n    background-color: #c8c7c7;\\n    border-radius: 2px;\\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\\n    object-fit: cover;\\n']),_templateObject3=_taggedTemplateLiteral(['\\n    flex: 1;\\n'],['\\n    flex: 1;\\n']),_templateObject4=_taggedTemplateLiteral(['\\n    height: 51px;\\n    width: 100%;\\n    border: 1px solid #c8c7c7;\\n    border-radius: 2px;\\n    background-color: ',';\\n'],['\\n    height: 51px;\\n    width: 100%;\\n    border: 1px solid #c8c7c7;\\n    border-radius: 2px;\\n    background-color: ',';\\n']);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}var StyledWrapper=__WEBPACK_IMPORTED_MODULE_6_styled_components__[\"b\" /* default */].div(_templateObject);var StyledListingImage=__WEBPACK_IMPORTED_MODULE_6_styled_components__[\"b\" /* default */].img(_templateObject2);var StyledListingInfo=__WEBPACK_IMPORTED_MODULE_6_styled_components__[\"b\" /* default */].div(_templateObject3);var StyledPaymentOption=__WEBPACK_IMPORTED_MODULE_6_styled_components__[\"b\" /* default */].div(_templateObject4,function(props){return props.theme.colors.white;});var Payment=function(_Component){_inherits(Payment,_Component);function Payment(props){_classCallCheck(this,Payment);var _this=_possibleConstructorReturn(this,(Payment.__proto__||Object.getPrototypeOf(Payment)).call(this,props));_this.toggleModal=function(){_this.setState({isModalOpen:!_this.state.isModalOpen});};_this.handleCheckout=function(){_this.setState({isButtonLoading:true});if(_this.urlParams.type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"c\" /* APPOINTMENT */]){_this.handleCreateAppointment();}else if(_this.urlParams.type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"H\" /* RESERVATION */]){_this.handleCreateReservation();}else if(_this.urlParams.type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"D\" /* PROCEDURE */]){_this.handleUpdateProcedures();}};_this.handleCreateReservation=function(){var _this$urlParams=_this.urlParams,startTime=_this$urlParams.startTime,endTime=_this$urlParams.endTime;var reservationPayload={numChairsSelected:_this.urlParams.numChairs,equipmentSelected:JSON.parse(_this.urlParams.equipmentSelected),listingId:_this.urlParams.listingId,reservedBy:_this.urlParams.reservedBy,startTime:startTime,endTime:endTime,paymentOptionId:_this.props.auth.paymentOptions[0].id,totalPaid:_this.urlParams.totalPaid};_this.props.createReservation(reservationPayload);};_this.handleCreateAppointment=function(){var _this$urlParams2=_this.urlParams,startTime=_this$urlParams2.startTime,endTime=_this$urlParams2.endTime;var appointmentPayload={reservationId:_this.urlParams.reservationId,patientId:_this.urlParams.patientId,procedure:JSON.parse(_this.urlParams.procedure),startTime:startTime,endTime:endTime,paymentOptionId:_this.props.auth.paymentOptions[0].id};_this.props.createAppointment(appointmentPayload);};_this.handleUpdateProcedures=function(){_this.props.updatePatientProcedures({procedureIds:JSON.parse(_this.urlParams.procedureIds),paymentOptionId:_this.props.auth.paymentOptions[0].id});};_this.renderTime=function(startTime,endTime){return Object(__WEBPACK_IMPORTED_MODULE_13__util_timeUtil__[\"b\" /* formatListingTime */])(startTime,endTime);};_this.renderPaymentOptions=function(){if(!_this.props.auth.paymentOptions)return null;return _this.props.auth.paymentOptions.map(function(paymentOption){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledPaymentOption,{key:paymentOption.id},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{vertical:15,left:10,right:30},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:2},'VISA'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:2,color:'silver'},'\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022',paymentOption.last4))));});};_this.renderSubjectCards=function(){var type=_this.urlParams.type;if(type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"c\" /* APPOINTMENT */]||type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"H\" /* RESERVATION */]){return _this.renderEventCard();}else{return _this.renderProcedureCards();}};_this.renderProcedureCards=function(){var procedures=_this.props.procedures;return procedures.map(function(pc,index){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{key:index,mb:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"c\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{horizontal:20,vertical:20},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,alignItems:'flex-start'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledListingInfo,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,direction:'column'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'bold'},pc.name),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,fontWeight:'bold',color:'black'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(pc.patientEstimate))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{vertical:8},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"g\" /* Divider */],null)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,wrap:'nowrap'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'material-icons tiny'},'access_time'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{right:4}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3},'Time: '+__WEBPACK_IMPORTED_MODULE_2_moment___default()(pc.dateCreated).format('MM/DD/YYYY')))))))));});};_this.renderEventCard=function(){var office=_this.urlParams.type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"c\" /* APPOINTMENT */]?_this.props.reservation.office:_this.props.listing.office;var totalPaid=_this.urlParams.totalPaid;var parsed=__WEBPACK_IMPORTED_MODULE_4_query_string___default.a.parse(window.location.search);return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"c\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{horizontal:20,vertical:20},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,alignItems:'flex-start'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledListingImage,{src:office.imageUrls[0]||'http://via.placeholder.com/250x250',alt:'office'}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{right:15}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledListingInfo,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,direction:'column'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'bold'},office.name),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,fontWeight:'bold',color:'black'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(totalPaid))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{bottom:11}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,wrap:'nowrap'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'material-icons tiny'},'location_on'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{right:4}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3},'Location: '+office.location)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{vertical:8},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"g\" /* Divider */],null)),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,wrap:'nowrap'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('i',{className:'material-icons tiny'},'access_time'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8__common_Spacing__[\"b\" /* Padding */],{right:4}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3},'Time: '+_this.renderTime(parsed.startTime,parsed.endTime))))))));};_this.renderSummaryCard=function(){var _this$urlParams3=_this.urlParams,type=_this$urlParams3.type,totalPaid=_this$urlParams3.totalPaid,equipmentFee=_this$urlParams3.equipmentFee,bookingFee=_this$urlParams3.bookingFee,cleaningFee=_this$urlParams3.cleaningFee,reservationFee=_this$urlParams3.reservationFee,procedurePatientEstimate=_this$urlParams3.procedurePatientEstimate;return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"c\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{p:3,flexDirection:'column'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:3},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'bold',capitalize:true},type+' Summary')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"g\" /* Divider */],null),reservationFee&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey',capitalize:true},type+' Cost'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(reservationFee)))),procedurePatientEstimate&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey',capitalize:true},type+' Cost'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(procedurePatientEstimate)))),equipmentFee&&equipmentFee>0&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey',capitalize:true},'Equipment Fee'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(equipmentFee)))),cleaningFee&&cleaningFee>0&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey',capitalize:true},'Cleaning Fee'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(cleaningFee)))),bookingFee&&bookingFee>0&&__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey',capitalize:true},'Booking Fee'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'abbey'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(bookingFee)))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"g\" /* Divider */],null),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{py:2},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{justify:'space-between'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'black',fontWeight:'bold'},'Total'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:3,color:'black',fontWeight:'bold'},Object(__WEBPACK_IMPORTED_MODULE_14__util_paymentUtil__[\"c\" /* renderPrice */])(totalPaid))))));};_this.renderPaymentCard=function(){var auth=_this.props.auth;var hasPaymentOptions=auth.paymentOptions&&auth.paymentOptions.length;return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"c\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],{p:3,flexDirection:'column'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:3},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'bold'},'Payment Information')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:3},_this.renderPaymentOptions()),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:3},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_stripe_checkout___default.a,{token:_this.onSuccess.bind(_this),stripeKey:__WEBPACK_IMPORTED_MODULE_12__config_keys__[\"stripeKey\"],currency:'USD',panelLabel:'Add card'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"k\" /* Link */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"b\" /* Button */],{fullWidth:true,variant:'raised',color:'primary'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'medium'},'Add Payment Method'))))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"b\" /* Button */],{fullWidth:true,onClick:_this.handleCheckout,variant:'raised',color:'secondary',disabled:!hasPaymentOptions||_this.state.isButtonLoading},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:4,fontWeight:'medium'},'Check out'))));};var location=_this.props.location;_this.urlParams=__WEBPACK_IMPORTED_MODULE_4_query_string___default.a.parse(location.search);_this.state={isButtonLoading:false,isFetching:true,isModalOpen:!props.auth.phoneNumber};return _this;}_createClass(Payment,[{key:'componentDidMount',value:function componentDidMount(){this.loadData();}},{key:'loadData',value:function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){var _urlParams,listingId,reservationId,procedureIds,type;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({isFetching:true});_urlParams=this.urlParams,listingId=_urlParams.listingId,reservationId=_urlParams.reservationId,procedureIds=_urlParams.procedureIds,type=_urlParams.type;if(!(type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"c\" /* APPOINTMENT */])){_context.next=7;break;}_context.next=5;return this.props.getReservation(reservationId);case 5:_context.next=15;break;case 7:if(!(type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"H\" /* RESERVATION */])){_context.next=12;break;}_context.next=10;return this.props.getListing(listingId);case 10:_context.next=15;break;case 12:if(!(type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"D\" /* PROCEDURE */])){_context.next=15;break;}_context.next=15;return this.props.getProcedures(JSON.parse(procedureIds));case 15:this.setState({isFetching:false});case 16:case'end':return _context.stop();}}},_callee,this);}));function loadData(){return _ref.apply(this,arguments);}return loadData;}()},{key:'onSuccess',value:function(){var _ref2=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(response){var auth;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:auth=this.props.auth;if(!auth.paymentOptions.length){_context2.next=4;break;}_context2.next=4;return this.props.removePaymentOption(auth.id,auth.paymentOptions[0].id);case 4:_context2.next=6;return this.props.addPaymentOption(auth.id,response.id);case 6:_context2.next=8;return this.props.fetchUser(__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"n\" /* DENTIST */],__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"A\" /* PAYMENT_OPTIONS */]);case 8:case'end':return _context2.stop();}}},_callee2,this);}));function onSuccess(_x){return _ref2.apply(this,arguments);}return onSuccess;}()},{key:'render',value:function render(){var type=this.urlParams.type;var header=type===__WEBPACK_IMPORTED_MODULE_11__util_strings__[\"D\" /* PROCEDURE */]?'Review and pay for your procedures':'Review and place your '+type;if(this.state.isFetching)return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'stretch_height'});return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(StyledWrapper,null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"f\" /* Container */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:[3,5]}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"h\" /* Flex */],null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{item:true,xs:12},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"q\" /* Typography */],{fontSize:5,fontWeight:'bold'},header)))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"a\" /* Box */],{pb:3}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,spacing:16},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{item:true,xs:12,lg:8},this.renderSubjectCards()),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{item:true,xs:12,lg:4},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{container:true,spacing:16},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{item:true,xs:12,sm:6,lg:12},this.renderSummaryCard()),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__common__[\"i\" /* Grid */],{item:true,xs:12,sm:6,lg:12},this.renderPaymentCard()))))),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__forms_AddPhoneNumber__[\"a\" /* default */],{open:this.state.isModalOpen,closeModal:this.toggleModal,type:this.urlParams.type}));}}]);return Payment;}(__WEBPACK_IMPORTED_MODULE_1_react__[\"Component\"]);function mapStateToProps(state){return{listing:state.listings.selected,reservation:state.reservations.selected,auth:state.auth,procedures:state.patientProcedures.selectedProcedures};}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps,__WEBPACK_IMPORTED_MODULE_10__actions__)(Payment));\n\n/***/ }),\n\n/***/ 988:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strictUriEncode = __webpack_require__(990);\nvar objectAssign = __webpack_require__(121);\nvar decodeComponent = __webpack_require__(991);\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n\n\n/***/ }),\n\n/***/ 990:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n/***/ }),\n\n/***/ 991:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.5ca56290.chunk.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar scriptLoading = false;\nvar scriptLoaded = false;\nvar scriptDidError = false;\n\nvar ReactStripeCheckout = function (_React$Component) {\n  _inherits(ReactStripeCheckout, _React$Component);\n\n  function ReactStripeCheckout(props) {\n    _classCallCheck(this, ReactStripeCheckout);\n\n    var _this = _possibleConstructorReturn(this, (ReactStripeCheckout.__proto__ || Object.getPrototypeOf(ReactStripeCheckout)).call(this, props));\n\n    _this.onScriptLoaded = function () {\n      if (!ReactStripeCheckout.stripeHandler) {\n        ReactStripeCheckout.stripeHandler = StripeCheckout.configure({\n          key: _this.props.stripeKey\n        });\n        if (_this.hasPendingClick) {\n          _this.showStripeDialog();\n        }\n      }\n    };\n\n    _this.onScriptError = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.hideLoadingDialog();\n      if (_this.props.onScriptError) {\n        _this.props.onScriptError.apply(_this, args);\n      }\n    };\n\n    _this.onClosed = function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      if (_this._isMounted) _this.setState({ open: false });\n      if (_this.props.closed) {\n        _this.props.closed.apply(_this, args);\n      }\n    };\n\n    _this.onOpened = function () {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      _this.setState({ open: true });\n      if (_this.props.opened) {\n        _this.props.opened.apply(_this, args);\n      }\n    };\n\n    _this.getConfig = function () {\n      return ['token', 'image', 'name', 'description', 'amount', 'locale', 'currency', 'panelLabel', 'zipCode', 'shippingAddress', 'billingAddress', 'email', 'allowRememberMe', 'bitcoin', 'alipay', 'alipayReusable'].reduce(function (config, key) {\n        return _extends({}, config, _this.props.hasOwnProperty(key) && _defineProperty({}, key, _this.props[key]));\n      }, {\n        opened: _this.onOpened,\n        closed: _this.onClosed\n      });\n    };\n\n    _this.onClick = function () {\n      // eslint-disable-line react/sort-comp\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (scriptDidError) {\n        try {\n          throw new Error('Tried to call onClick, but StripeCheckout failed to load');\n        } catch (x) {} // eslint-disable-line no-empty\n      } else if (ReactStripeCheckout.stripeHandler) {\n        _this.showStripeDialog();\n      } else {\n        _this.showLoadingDialog();\n        _this.hasPendingClick = true;\n      }\n    };\n\n    _this.handleOnMouseDown = function () {\n      _this.setState({\n        buttonActive: true\n      });\n    };\n\n    _this.handleOnMouseUp = function () {\n      _this.setState({\n        buttonActive: false\n      });\n    };\n\n    _this.state = {\n      open: false,\n      buttonActive: false\n    };\n    return _this;\n  }\n\n  _createClass(ReactStripeCheckout, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      if (scriptLoaded) {\n        return;\n      }\n\n      if (scriptLoading) {\n        return;\n      }\n\n      scriptLoading = true;\n\n      var script = document.createElement('script');\n      if (typeof this.props.onScriptTagCreated === 'function') {\n        this.props.onScriptTagCreated(script);\n      }\n\n      script.src = 'https://checkout.stripe.com/checkout.js';\n      script.async = 1;\n\n      this.loadPromise = function () {\n        var canceled = false;\n        var promise = new Promise(function (resolve, reject) {\n          script.onload = function () {\n            scriptLoaded = true;\n            scriptLoading = false;\n            resolve();\n            _this2.onScriptLoaded();\n          };\n          script.onerror = function (event) {\n            scriptDidError = true;\n            scriptLoading = false;\n            reject(event);\n            _this2.onScriptError(event);\n          };\n        });\n        var wrappedPromise = new Promise(function (accept, cancel) {\n          promise.then(function () {\n            return canceled ? cancel({ isCanceled: true }) : accept();\n          }); // eslint-disable-line no-confusing-arrow\n          promise.catch(function (error) {\n            return canceled ? cancel({ isCanceled: true }) : cancel(error);\n          }); // eslint-disable-line no-confusing-arrow\n        });\n\n        return {\n          promise: wrappedPromise,\n          cancel: function cancel() {\n            canceled = true;\n          }\n        };\n      }();\n\n      this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError);\n\n      document.body.appendChild(script);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!scriptLoading) {\n        this.updateStripeHandler();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      if (this.loadPromise) {\n        this.loadPromise.cancel();\n      }\n      if (ReactStripeCheckout.stripeHandler && this.state.open) {\n        ReactStripeCheckout.stripeHandler.close();\n      }\n    }\n  }, {\n    key: 'updateStripeHandler',\n    value: function updateStripeHandler() {\n      if (!ReactStripeCheckout.stripeHandler || this.props.reconfigureOnUpdate) {\n        ReactStripeCheckout.stripeHandler = StripeCheckout.configure({\n          key: this.props.stripeKey\n        });\n      }\n    }\n  }, {\n    key: 'showLoadingDialog',\n    value: function showLoadingDialog() {\n      if (this.props.showLoadingDialog) {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        this.props.showLoadingDialog.apply(this, args);\n      }\n    }\n  }, {\n    key: 'hideLoadingDialog',\n    value: function hideLoadingDialog() {\n      if (this.props.hideLoadingDialog) {\n        for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          args[_key5] = arguments[_key5];\n        }\n\n        this.props.hideLoadingDialog.apply(this, args);\n      }\n    }\n  }, {\n    key: 'showStripeDialog',\n    value: function showStripeDialog() {\n      this.hideLoadingDialog();\n      ReactStripeCheckout.stripeHandler.open(this.getConfig());\n    }\n  }, {\n    key: 'renderDefaultStripeButton',\n    value: function renderDefaultStripeButton() {\n      return _react2.default.createElement(\n        'button',\n        _extends({}, _defineProperty({}, this.props.triggerEvent, this.onClick), {\n          className: this.props.className,\n          onMouseDown: this.handleOnMouseDown,\n          onFocus: this.handleOnMouseDown,\n          onMouseUp: this.handleOnMouseUp,\n          onMouseOut: this.handleOnMouseUp,\n          onBlur: this.handleOnMouseUp,\n          style: _extends({}, {\n            overflow: 'hidden',\n            display: 'inline-block',\n            background: 'linear-gradient(#28a0e5,#015e94)',\n            border: 0,\n            padding: 1,\n            textDecoration: 'none',\n            borderRadius: 5,\n            boxShadow: '0 1px 0 rgba(0,0,0,0.2)',\n            cursor: 'pointer',\n            visibility: 'visible',\n            userSelect: 'none'\n          }, this.state.buttonActive && {\n            background: '#005d93'\n          }, this.props.style)\n        }),\n        _react2.default.createElement(\n          'span',\n          {\n            style: _extends({}, {\n              backgroundImage: 'linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)',\n              fontFamily: '\"Helvetica Neue\",Helvetica,Arial,sans-serif',\n              fontSize: 14,\n              position: 'relative',\n              padding: '0 12px',\n              display: 'block',\n              height: 30,\n              lineHeight: '30px',\n              color: '#fff',\n              fontWeight: 'bold',\n              boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.25)',\n              textShadow: '0 -1px 0 rgba(0,0,0,0.25)',\n              borderRadius: 4\n            }, this.state.buttonActive && {\n              color: '#eee',\n              boxShadow: 'inset 0 1px 0 rgba(0,0,0,0.1)',\n              backgroundImage: 'linear-gradient(#008cdd,#008cdd 85%,#239adf)'\n            }, this.props.textStyle)\n          },\n          this.props.label\n        )\n      );\n    }\n  }, {\n    key: 'renderDisabledButton',\n    value: function renderDisabledButton() {\n      return _react2.default.createElement(\n        'button',\n        {\n          disabled: true,\n          style: {\n            background: 'rgba(0,0,0,0.2)',\n            overflow: 'hidden',\n            display: 'inline-block',\n            border: 0,\n            padding: 1,\n            textDecoration: 'none',\n            borderRadius: 5,\n            userSelect: 'none'\n          }\n        },\n        _react2.default.createElement(\n          'span',\n          {\n            style: {\n              boxShadow: 'inset 0 1px 0 rgba(255,255,255,0.25)',\n              fontFamily: '\"Helvetica Neue\",Helvetica,Arial,sans-serif',\n              fontSize: 14,\n              position: 'relative',\n              padding: '0 12px',\n              display: 'block',\n              height: 30,\n              lineHeight: '30px',\n              borderRadius: 4,\n              color: '#999',\n              background: '#f8f9fa',\n              textShadow: '0 1px 0 rgba(255,255,255,0.5)'\n            }\n          },\n          this.props.label\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.desktopShowModal === true && !this.state.open) {\n        this.onClick();\n      } else if (this.props.desktopShowModal === false && this.state.open) {\n        ReactStripeCheckout.stripeHandler.close();\n      }\n\n      var ComponentClass = this.props.ComponentClass;\n\n      if (this.props.children) {\n        return _react2.default.createElement(ComponentClass, _extends({}, _defineProperty({}, this.props.triggerEvent, this.onClick), {\n          children: this.props.children\n        }));\n      }\n      return this.props.disabled ? this.renderDisabledButton() : this.renderDefaultStripeButton();\n    }\n  }]);\n\n  return ReactStripeCheckout;\n}(_react2.default.Component);\n\nReactStripeCheckout.defaultProps = {\n  className: 'StripeCheckout',\n  label: 'Pay With Card',\n  locale: 'auto',\n  ComponentClass: 'span',\n  reconfigureOnUpdate: false,\n  triggerEvent: 'onClick'\n};\nReactStripeCheckout.propTypes = {\n  // Opens / closes the checkout modal by value\n  // WARNING: does not work on mobile due to browser security restrictions\n  // NOTE: Must be set to false when receiving token to prevent modal from\n  //       opening automatically after closing\n  desktopShowModal: _propTypes2.default.bool,\n\n  triggerEvent: _propTypes2.default.oneOf(['onClick', 'onTouchTap', 'onTouchStart']),\n\n  // If included, will render the default blue button with label text.\n  // (Requires including stripe-checkout.css or adding the .styl file\n  // to your pipeline)\n  label: _propTypes2.default.string,\n\n  // Custom styling for default button\n  style: _propTypes2.default.object,\n  // Custom styling for <span> tag inside default button\n  textStyle: _propTypes2.default.object,\n\n  // Prevents any events from opening the popup\n  // Adds the disabled prop to the button and adjusts the styling as well\n  disabled: _propTypes2.default.bool,\n\n  // Named component to wrap button (eg. div)\n  ComponentClass: _propTypes2.default.string,\n\n  // Show a loading indicator\n  showLoadingDialog: _propTypes2.default.func,\n  // Hide the loading indicator\n  hideLoadingDialog: _propTypes2.default.func,\n\n  // Run this method when the scrupt fails to load. Will run if the internet\n  // connection is offline when attemting to load the script.\n  onScriptError: _propTypes2.default.func,\n\n  // Runs when the script tag is created, but before it is added to the DOM\n  onScriptTagCreated: _propTypes2.default.func,\n\n  // By default, any time the React component is updated, it will call\n  // StripeCheckout.configure, which may result in additional XHR calls to the\n  // stripe API.  If you know the first configuration is all you need, you\n  // can set this to false.  Subsequent updates will affect the StripeCheckout.open\n  // (e.g. different prices)\n  reconfigureOnUpdate: _propTypes2.default.bool,\n\n  // =====================================================\n  // Required by stripe\n  // see Stripe docs for more info:\n  //   https://stripe.com/docs/checkout#integration-custom\n  // =====================================================\n\n  // Your publishable key (test or live).\n  // can't use \"key\" as a prop in react, so have to change the keyname\n  stripeKey: _propTypes2.default.string.isRequired,\n\n  // The callback to invoke when the Checkout process is complete.\n  //   function(token)\n  //     token is the token object created.\n  //     token.id can be used to create a charge or customer.\n  //     token.email contains the email address entered by the user.\n  token: _propTypes2.default.func.isRequired,\n\n  // ==========================\n  // Highly Recommended Options\n  // ==========================\n\n  // Name of the company or website.\n  name: _propTypes2.default.string,\n\n  // A description of the product or service being purchased.\n  description: _propTypes2.default.string,\n\n  // A relative URL pointing to a square image of your brand or product. The\n  // recommended minimum size is 128x128px. The recommended image types are\n  // .gif, .jpeg, and .png.\n  image: _propTypes2.default.string,\n\n  // The amount (in cents) that's shown to the user. Note that you will still\n  // have to explicitly include it when you create a charge using the API.\n  amount: _propTypes2.default.number,\n\n  // Specify auto to display Checkout in the user's preferred language, if\n  // available. English will be used by default.\n  //\n  // https://stripe.com/docs/checkout#supported-languages\n  // for more info.\n  locale: _propTypes2.default.oneOf(['auto', // (Default) Automatically chosen by checkout\n  'zh', // Simplified Chinese\n  'da', // Danish\n  'nl', // Dutch\n  'en', // English\n  'fr', // French\n  'de', // German\n  'it', // Italian\n  'ja', // Japanease\n  'no', // Norwegian\n  'es', // Spanish\n  'sv']),\n\n  // ==============\n  // Optional Props\n  // ==============\n\n  // The currency of the amount (3-letter ISO code). The default is USD.\n  currency: _propTypes2.default.oneOf(['AED', 'AFN', 'ALL', 'AMD', 'ANG', 'AOA', 'ARS', 'AUD', 'AWG', 'AZN', 'BAM', 'BBD', // eslint-disable-line comma-spacing\n  'BDT', 'BGN', 'BIF', 'BMD', 'BND', 'BOB', 'BRL', 'BSD', 'BWP', 'BZD', 'CAD', 'CDF', // eslint-disable-line comma-spacing\n  'CHF', 'CLP', 'CNY', 'COP', 'CRC', 'CVE', 'CZK', 'DJF', 'DKK', 'DOP', 'DZD', 'EEK', // eslint-disable-line comma-spacing\n  'EGP', 'ETB', 'EUR', 'FJD', 'FKP', 'GBP', 'GEL', 'GIP', 'GMD', 'GNF', 'GTQ', 'GYD', // eslint-disable-line comma-spacing\n  'HKD', 'HNL', 'HRK', 'HTG', 'HUF', 'IDR', 'ILS', 'INR', 'ISK', 'JMD', 'JPY', 'KES', // eslint-disable-line comma-spacing\n  'KGS', 'KHR', 'KMF', 'KRW', 'KYD', 'KZT', 'LAK', 'LBP', 'LKR', 'LRD', 'LSL', 'LTL', // eslint-disable-line comma-spacing\n  'LVL', 'MAD', 'MDL', 'MGA', 'MKD', 'MNT', 'MOP', 'MRO', 'MUR', 'MVR', 'MWK', 'MXN', // eslint-disable-line comma-spacing\n  'MYR', 'MZN', 'NAD', 'NGN', 'NIO', 'NOK', 'NPR', 'NZD', 'PAB', 'PEN', 'PGK', 'PHP', // eslint-disable-line comma-spacing\n  'PKR', 'PLN', 'PYG', 'QAR', 'RON', 'RSD', 'RUB', 'RWF', 'SAR', 'SBD', 'SCR', 'SEK', // eslint-disable-line comma-spacing\n  'SGD', 'SHP', 'SLL', 'SOS', 'SRD', 'STD', 'SVC', 'SZL', 'THB', 'TJS', 'TOP', 'TRY', // eslint-disable-line comma-spacing\n  'TTD', 'TWD', 'TZS', 'UAH', 'UGX', 'USD', 'UYU', 'UZS', 'VND', 'VUV', 'WST', 'XAF', // eslint-disable-line comma-spacing\n  'XCD', 'XOF', 'XPF', 'YER', 'ZAR', 'ZMW']),\n\n  // The label of the payment button in the Checkout form (e.g. Subscribe,\n  // Pay {{amount}}, etc.). If you include {{amount}}, it will be replaced\n  // by the provided amount. Otherwise, the amount will be appended to the\n  // end of your label.\n  panelLabel: _propTypes2.default.string,\n\n  // Specify whether Checkout should validate the billing ZIP code (true or\n  // false)\n  zipCode: _propTypes2.default.bool,\n\n  // Specify whether Checkout should collect the user's billing address\n  // (true or false). The default is false.\n  billingAddress: _propTypes2.default.bool,\n\n  // Specify whether Checkout should collect the user's shipping address\n  // (true or false). The default is false.\n  shippingAddress: _propTypes2.default.bool,\n\n  // Specify whether Checkout should validate the billing ZIP code (true or\n  // false). The default is false.\n  email: _propTypes2.default.string,\n\n  // Specify whether to include the option to \"Remember Me\" for future\n  // purchases (true or false). The default is true.\n  allowRememberMe: _propTypes2.default.bool,\n\n  // Specify whether to accept Bitcoin in Checkout. The default is false.\n  bitcoin: _propTypes2.default.bool,\n\n  // Specify whether to accept Alipay ('auto', true, or false). The default\n  // is false.\n  alipay: _propTypes2.default.oneOf(['auto', true, false]),\n\n  // Specify if you need reusable access to the customer's Alipay account\n  // (true or false). The default is false.\n  alipayReusable: _propTypes2.default.bool,\n\n  // function() The callback to invoke when Checkout is opened (not supported\n  // in IE6 and IE7).\n  opened: _propTypes2.default.func,\n\n  // function() The callback to invoke when Checkout is closed (not supported\n  // in IE6 and IE7).\n  closed: _propTypes2.default.func\n};\nReactStripeCheckout._isMounted = false;\nexports.default = ReactStripeCheckout;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-stripe-checkout/dist/main.js\n// module id = 1195\n// module chunks = 5","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm, SubmissionError } from 'redux-form';\nimport { updateUserProfile } from '../../actions';\nimport { Button, Typography, Box, Modal } from '../common';\nimport { required } from './formValidation';\nimport { renderMaskedField } from './sharedComponents';\nimport {\n    formatPhoneNumber,\n    isPhoneNumberInputValid,\n    PHONE_NUMBER_MASK\n} from '../../util/phoneNumberUtil';\n\nconst defaultSettings = { general: { email: true, sms: true } };\n\nclass AddPhoneNumber extends Component {\n    onSubmit = values => {\n        const { auth } = this.props;\n        const { phoneNumber } = values;\n\n        if (phoneNumber && !isPhoneNumberInputValid(phoneNumber)) {\n            throw new SubmissionError({\n                phoneNumber: 'Please add a valid phone number.'\n            });\n        }\n\n        let { notificationSettings } = auth;\n        if (!notificationSettings) {\n            notificationSettings = defaultSettings;\n        } else if (!notificationSettings.general) {\n            notificationSettings.general = defaultSettings.general;\n        } else {\n            notificationSettings.general.sms = true;\n        }\n\n        this.props.updateUserProfile(this.props.auth.id, {\n            phoneNumber: formatPhoneNumber(phoneNumber),\n            notificationSettings\n        });\n        this.props.closeModal();\n    };\n\n    renderPurposeStatement() {\n        const { type } = this.props;\n        switch (type) {\n        case 'appointment':\n            return 'This is so Laguro can contact you about any updates to your appointment.';\n        case 'listing':\n            return 'This is so Laguro can let you know you about any new reservations made for your listing.';\n        case 'reservation':\n            return 'This is so Laguro can let you know about any new appointments booked for your reservation.';\n        default:\n            return 'This is so Laguro can contact you regarding this action.';\n        }\n    }\n\n    render() {\n        const { handleSubmit, closeModal, open } = this.props;\n\n        return (\n            <Modal closable open={open} closeModal={closeModal}>\n                <form onSubmit={handleSubmit(this.onSubmit)}>\n                    <Box pb={2}>\n                        <Typography fontSize={5}>\n                            Add your phone number\n                        </Typography>\n                    </Box>\n                    <Box pb={2}>\n                        <Typography>{this.renderPurposeStatement()}</Typography>\n                    </Box>\n                    <Box pb={4}>\n                        <Field\n                            name=\"phoneNumber\"\n                            label=\"Phone Number\"\n                            placeholder=\"(555) 495-3947\"\n                            validate={required}\n                            component={renderMaskedField}\n                            mask={PHONE_NUMBER_MASK}\n                            placeholderChar={'\\u2000'}\n                        />\n                    </Box>\n                    <Box>\n                        <Button type=\"submit\" color=\"primary\">\n                            <Typography fontSize={4} fontWeight=\"medium\">\n                                Add Phone Number\n                            </Typography>\n                        </Button>\n                    </Box>\n                </form>\n            </Modal>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        auth: state.auth\n    };\n}\n\nexport { AddPhoneNumber };\nexport default reduxForm({\n    form: 'addPhoneNumber'\n})(connect(mapStateToProps, { updateUserProfile })(AddPhoneNumber));\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/forms/AddPhoneNumber.js","import React, { Component } from 'react';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport queryString from 'query-string';\nimport StripeCheckout from 'react-stripe-checkout';\nimport styled from 'styled-components';\nimport {\n    Typography,\n    Card,\n    Button,\n    Divider,\n    Link,\n    Grid,\n    Flex,\n    Box,\n    Container\n} from './common';\nimport { Padding } from './common/Spacing';\nimport AddPhoneNumber from './forms/AddPhoneNumber';\nimport * as actions from '../actions';\nimport {\n    PAYMENT_OPTIONS,\n    APPOINTMENT,\n    DENTIST,\n    RESERVATION,\n    PROCEDURE\n} from '../util/strings';\nimport { stripeKey } from '../config/keys';\nimport { formatListingTime } from '../util/timeUtil';\nimport { renderPrice } from '../util/paymentUtil';\n\nconst StyledWrapper = styled.div`\n    background-color: #F8F9FA;\n    min-height: 100vh;\n    min-width: 100vw;\n    width: 100%\n    height: 100%;\n`;\n\nconst StyledListingImage = styled.img`\n    height: 104px;\n    max-width: 112px;\n    width: 100%;\n    background-color: #c8c7c7;\n    border-radius: 2px;\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n    object-fit: cover;\n`;\n\nconst StyledListingInfo = styled.div`\n    flex: 1;\n`;\n\nconst StyledPaymentOption = styled.div`\n    height: 51px;\n    width: 100%;\n    border: 1px solid #c8c7c7;\n    border-radius: 2px;\n    background-color: ${props => props.theme.colors.white};\n`;\n\nclass Payment extends Component {\n    constructor(props) {\n        super(props);\n\n        const { location } = this.props;\n        this.urlParams = queryString.parse(location.search);\n\n        this.state = {\n            isButtonLoading: false,\n            isFetching: true,\n            isModalOpen: !props.auth.phoneNumber\n        };\n    }\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    async loadData() {\n        this.setState({ isFetching: true });\n        const { listingId, reservationId, procedureIds, type } = this.urlParams;\n        if (type === APPOINTMENT) {\n            await this.props.getReservation(reservationId);\n        } else if (type === RESERVATION) {\n            await this.props.getListing(listingId);\n        } else if (type === PROCEDURE) {\n            await this.props.getProcedures(JSON.parse(procedureIds));\n        }\n        this.setState({ isFetching: false });\n    }\n\n    async onSuccess(response) {\n        const { auth } = this.props;\n        if (auth.paymentOptions.length) {\n            await this.props.removePaymentOption(\n                auth.id,\n                auth.paymentOptions[0].id\n            );\n        }\n\n        await this.props.addPaymentOption(auth.id, response.id);\n        await this.props.fetchUser(DENTIST, PAYMENT_OPTIONS);\n    }\n\n    toggleModal = () => {\n        this.setState({ isModalOpen: !this.state.isModalOpen });\n    };\n\n    handleCheckout = () => {\n        this.setState({ isButtonLoading: true });\n\n        if (this.urlParams.type === APPOINTMENT) {\n            this.handleCreateAppointment();\n        } else if (this.urlParams.type === RESERVATION) {\n            this.handleCreateReservation();\n        } else if (this.urlParams.type === PROCEDURE) {\n            this.handleUpdateProcedures();\n        }\n    };\n\n    handleCreateReservation = () => {\n        const { startTime, endTime } = this.urlParams;\n\n        const reservationPayload = {\n            numChairsSelected: this.urlParams.numChairs,\n            equipmentSelected: JSON.parse(this.urlParams.equipmentSelected),\n            listingId: this.urlParams.listingId,\n            reservedBy: this.urlParams.reservedBy,\n            startTime,\n            endTime,\n            paymentOptionId: this.props.auth.paymentOptions[0].id,\n            totalPaid: this.urlParams.totalPaid\n        };\n\n        this.props.createReservation(reservationPayload);\n    };\n\n    handleCreateAppointment = () => {\n        const { startTime, endTime } = this.urlParams;\n\n        const appointmentPayload = {\n            reservationId: this.urlParams.reservationId,\n            patientId: this.urlParams.patientId,\n            procedure: JSON.parse(this.urlParams.procedure),\n            startTime,\n            endTime,\n            paymentOptionId: this.props.auth.paymentOptions[0].id\n        };\n\n        this.props.createAppointment(appointmentPayload);\n    };\n\n    handleUpdateProcedures = () => {\n        this.props.updatePatientProcedures({\n            procedureIds: JSON.parse(this.urlParams.procedureIds),\n            paymentOptionId: this.props.auth.paymentOptions[0].id\n        });\n    };\n\n    renderTime = (startTime, endTime) => {\n        return formatListingTime(startTime, endTime);\n    };\n\n    renderPaymentOptions = () => {\n        if (!this.props.auth.paymentOptions) return null;\n\n        return this.props.auth.paymentOptions.map(paymentOption => (\n            <StyledPaymentOption key={paymentOption.id}>\n                <Padding vertical={15} left={10} right={30}>\n                    <Grid container justify=\"space-between\">\n                        <Typography fontSize={2}>VISA</Typography>\n                        <Typography fontSize={2} color=\"silver\">\n                            {paymentOption.last4}\n                        </Typography>\n                    </Grid>\n                </Padding>\n            </StyledPaymentOption>\n        ));\n    };\n\n    renderSubjectCards = () => {\n        const { type } = this.urlParams;\n\n        if (type === APPOINTMENT || type === RESERVATION) {\n            return this.renderEventCard();\n        } else {\n            return this.renderProcedureCards();\n        }\n    };\n\n    renderProcedureCards = () => {\n        let { procedures } = this.props;\n\n        return procedures.map((pc, index) => {\n            return (\n                <Box key={index} mb={2}>\n                    <Card>\n                        <Padding horizontal={20} vertical={20}>\n                            <Grid container alignItems=\"flex-start\">\n                                <StyledListingInfo>\n                                    <Grid container direction=\"column\">\n                                        <Grid container justify=\"space-between\">\n                                            <Typography\n                                                fontSize={4}\n                                                fontWeight=\"bold\"\n                                            >\n                                                {pc.name}\n                                            </Typography>\n\n                                            <Typography\n                                                fontSize={3}\n                                                fontWeight=\"bold\"\n                                                color=\"black\"\n                                            >\n                                                {renderPrice(\n                                                    pc.patientEstimate\n                                                )}\n                                            </Typography>\n                                        </Grid>\n                                        <Padding vertical={8}>\n                                            <Divider />\n                                        </Padding>\n\n                                        <Grid container wrap=\"nowrap\">\n                                            <i className=\"material-icons tiny\">\n                                                access_time\n                                            </i>\n\n                                            <Padding right={4} />\n\n                                            <Typography fontSize={3}>\n                                                {`Time: ${moment(\n                                                    pc.dateCreated\n                                                ).format('MM/DD/YYYY')}`}\n                                            </Typography>\n                                        </Grid>\n                                    </Grid>\n                                </StyledListingInfo>\n                            </Grid>\n                        </Padding>\n                    </Card>\n                </Box>\n            );\n        });\n    };\n\n    renderEventCard = () => {\n        const office =\n            this.urlParams.type === APPOINTMENT\n                ? this.props.reservation.office\n                : this.props.listing.office;\n        const { totalPaid } = this.urlParams;\n        const parsed = queryString.parse(window.location.search);\n\n        return (\n            <Card>\n                <Padding horizontal={20} vertical={20}>\n                    <Grid container alignItems=\"flex-start\">\n                        <StyledListingImage\n                            src={\n                                office.imageUrls[0] ||\n                                'http://via.placeholder.com/250x250'\n                            }\n                            alt=\"office\"\n                        />\n\n                        <Padding right={15} />\n\n                        <StyledListingInfo>\n                            <Grid container direction=\"column\">\n                                <Grid container justify=\"space-between\">\n                                    <Typography fontSize={4} fontWeight=\"bold\">\n                                        {office.name}\n                                    </Typography>\n\n                                    <Typography\n                                        fontSize={3}\n                                        fontWeight=\"bold\"\n                                        color=\"black\"\n                                    >\n                                        {renderPrice(totalPaid)}\n                                    </Typography>\n                                </Grid>\n\n                                <Padding bottom={11} />\n\n                                <Grid container wrap=\"nowrap\">\n                                    <i className=\"material-icons tiny\">\n                                        location_on\n                                    </i>\n\n                                    <Padding right={4} />\n\n                                    <Typography fontSize={3}>\n                                        {`Location: ${office.location}`}\n                                    </Typography>\n                                </Grid>\n\n                                <Padding vertical={8}>\n                                    <Divider />\n                                </Padding>\n\n                                <Grid container wrap=\"nowrap\">\n                                    <i className=\"material-icons tiny\">\n                                        access_time\n                                    </i>\n\n                                    <Padding right={4} />\n\n                                    <Typography fontSize={3}>\n                                        {`Time: ${this.renderTime(\n                                            parsed.startTime,\n                                            parsed.endTime\n                                        )}`}\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        </StyledListingInfo>\n                    </Grid>\n                </Padding>\n            </Card>\n        );\n    };\n\n    renderSummaryCard = () => {\n        const {\n            type,\n            totalPaid,\n            equipmentFee,\n            bookingFee,\n            cleaningFee,\n            reservationFee,\n            procedurePatientEstimate\n        } = this.urlParams;\n\n        return (\n            <Card>\n                <Flex p={3} flexDirection=\"column\">\n                    <Box pb={3}>\n                        <Typography fontSize={4} fontWeight=\"bold\" capitalize>\n                            {`${type} Summary`}\n                        </Typography>\n                    </Box>\n\n                    <Divider />\n\n                    {reservationFee && <Box py={2}>\n                        <Flex justify=\"space-between\">\n                            <Typography fontSize={3} color=\"abbey\" capitalize>\n                                {`${type} Cost`}\n                            </Typography>\n                            <Typography fontSize={3} color=\"abbey\">\n                                {renderPrice(reservationFee)}\n                            </Typography>\n                        </Flex>\n                    </Box>}\n\n                    {procedurePatientEstimate && <Box py={2}>\n                        <Flex justify=\"space-between\">\n                            <Typography fontSize={3} color=\"abbey\" capitalize>\n                                {`${type} Cost`}\n                            </Typography>\n                            <Typography fontSize={3} color=\"abbey\">\n                                {renderPrice(procedurePatientEstimate)}\n                            </Typography>\n                        </Flex>\n                    </Box>}\n\n                    {equipmentFee &&\n                        equipmentFee > 0 && (\n                            <Box py={2}>\n                                <Flex justify=\"space-between\">\n                                    <Typography\n                                        fontSize={3}\n                                        color=\"abbey\"\n                                        capitalize\n                                    >\n                                        Equipment Fee\n                                </Typography>\n                                    <Typography fontSize={3} color=\"abbey\">\n                                        {renderPrice(equipmentFee)}\n                                    </Typography>\n                                </Flex>\n                            </Box>\n                        )}\n\n                    {cleaningFee &&\n                        cleaningFee > 0 && (\n                            <Box py={2}>\n                                <Flex justify=\"space-between\">\n                                    <Typography\n                                        fontSize={3}\n                                        color=\"abbey\"\n                                        capitalize\n                                    >\n                                        Cleaning Fee\n                                </Typography>\n                                    <Typography fontSize={3} color=\"abbey\">\n                                        {renderPrice(cleaningFee)}\n                                    </Typography>\n                                </Flex>\n                            </Box>\n                        )}\n\n                    {bookingFee &&\n                        bookingFee > 0 && (\n                            <Box py={2}>\n                                <Flex justify=\"space-between\">\n                                    <Typography\n                                        fontSize={3}\n                                        color=\"abbey\"\n                                        capitalize\n                                    >\n                                        Booking Fee\n                                </Typography>\n                                    <Typography fontSize={3} color=\"abbey\">\n                                        {renderPrice(bookingFee)}\n                                    </Typography>\n                                </Flex>\n                            </Box>\n                        )}\n\n                    <Divider />\n\n                    <Box py={2}>\n                        <Flex justify=\"space-between\">\n                            <Typography\n                                fontSize={3}\n                                color=\"black\"\n                                fontWeight=\"bold\"\n                            >\n                                Total\n                            </Typography>\n                            <Typography\n                                fontSize={3}\n                                color=\"black\"\n                                fontWeight=\"bold\"\n                            >\n                                {renderPrice(totalPaid)}\n                            </Typography>\n                        </Flex>\n                    </Box>\n                </Flex>\n            </Card>\n        );\n    };\n\n    renderPaymentCard = () => {\n        const { auth } = this.props;\n        const hasPaymentOptions =\n            auth.paymentOptions && auth.paymentOptions.length;\n\n        return (\n            <Card>\n                <Flex p={3} flexDirection=\"column\">\n                    <Box pb={3}>\n                        <Typography fontSize={4} fontWeight=\"bold\">\n                            Payment Information\n                        </Typography>\n                    </Box>\n\n                    <Box pb={3}>{this.renderPaymentOptions()}</Box>\n\n                    <Box pb={3}>\n                        <StripeCheckout\n                            token={this.onSuccess.bind(this)}\n                            stripeKey={stripeKey}\n                            currency=\"USD\"\n                            panelLabel=\"Add card\"\n                        >\n                            <Link>\n                                <Button\n                                    fullWidth\n                                    variant=\"raised\"\n                                    color=\"primary\"\n                                >\n                                    <Typography\n                                        fontSize={4}\n                                        fontWeight=\"medium\"\n                                    >\n                                        Add Payment Method\n                                    </Typography>\n                                </Button>\n                            </Link>\n                        </StripeCheckout>\n                    </Box>\n\n                    <Button\n                        fullWidth\n                        onClick={this.handleCheckout}\n                        variant=\"raised\"\n                        color=\"secondary\"\n                        disabled={\n                            !hasPaymentOptions || this.state.isButtonLoading\n                        }\n                    >\n                        <Typography fontSize={4} fontWeight=\"medium\">\n                            Check out\n                        </Typography>\n                    </Button>\n                </Flex>\n            </Card>\n        );\n    };\n\n    render() {\n        const { type } = this.urlParams;\n        const header = type === PROCEDURE ? 'Review and pay for your procedures' : `Review and place your ${type}`\n        if (this.state.isFetching) return <div className=\"stretch_height\" />;\n\n        return (\n            <StyledWrapper>\n                <Container>\n                    <Box pb={[3, 5]} />\n                    <Flex>\n                        <Grid container>\n                            <Grid item xs={12}>\n                                <Typography fontSize={5} fontWeight=\"bold\">\n                                    {header}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </Flex>\n                    <Box pb={3} />\n\n                    <Grid container spacing={16}>\n                        <Grid item xs={12} lg={8}>\n                            {this.renderSubjectCards()}\n                        </Grid>\n\n                        <Grid item xs={12} lg={4}>\n                            <Grid container spacing={16}>\n                                <Grid item xs={12} sm={6} lg={12}>\n                                    {this.renderSummaryCard()}\n                                </Grid>\n                                <Grid item xs={12} sm={6} lg={12}>\n                                    {this.renderPaymentCard()}\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Container>\n\n                <AddPhoneNumber\n                    open={this.state.isModalOpen}\n                    closeModal={this.toggleModal}\n                    type={this.urlParams.type}\n                />\n            </StyledWrapper>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        listing: state.listings.selected,\n        reservation: state.reservations.selected,\n        auth: state.auth,\n        procedures: state.patientProcedures.selectedProcedures\n    };\n}\n\nexport default connect(mapStateToProps, actions)(Payment);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Payment.js","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/query-string/index.js\n// module id = 988\n// module chunks = 0 1 2 3 4 5 6 7 8 9","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/strict-uri-encode/index.js\n// module id = 990\n// module chunks = 0 1 2 3 4 5 6 7 8 9","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/decode-uri-component/index.js\n// module id = 991\n// module chunks = 0 1 2 3 4 5 6 7 8 9"],"sourceRoot":""}